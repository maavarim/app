{"version":3,"sources":["firebase/index.ts","firebase/auth.ts","img/Logo.jpeg","components/AppBar.tsx","context/LoggedInUserContext.ts","components/MainAppBar.tsx","img/MultiGenderHebrew/WelcomeTitle/01.svg","img/MultiGenderHebrew/WelcomeTitle/02.svg","img/MultiGenderHebrew/WelcomeTitle/03.svg","img/MultiGenderHebrew/WelcomeTitle/04.svg","img/MultiGenderHebrew/WelcomeTitle/05.svg","img/MultiGenderHebrew/WelcomeTitle/06.svg","img/MultiGenderHebrew/WelcomeTitle/07.svg","img/MultiGenderHebrew/WelcomeTitle/08.svg","img/MultiGenderHebrew/WelcomeTitle/index.tsx","context/ProposeActionsContext.ts","components/Hero.tsx","icons/HomeSearchIcon.tsx","utils/Array.ts","searchFilters/SelectBasedSearchFilter.tsx","searchFilters/profession.ts","searchFilters/index.ts","searchFilters/expertise.ts","searchFilters/area.tsx","searchFilters/healthCare.ts","searchFilters/language.ts","searchFilters/gender.ts","utils/Config.ts","server/index.ts","components/BusinessesContainer.tsx","components/StyledButtons.tsx","components/Rating.tsx","components/BusinessView.tsx","utils/String.ts","img/MultiGenderHebrew/SearchTitle/01.svg","img/MultiGenderHebrew/SearchTitle/02.svg","img/MultiGenderHebrew/SearchTitle/03.svg","img/MultiGenderHebrew/SearchTitle/index.tsx","utils/Date.ts","components/FocusedBusinessDialog.tsx","components/SearchContainer.tsx","img/EmptyState.svg","components/SearchEmptyState.tsx","components/MultiColorProgressSpinner.tsx","components/LoadingBackdrop.tsx","img/GoogleIcon.svg","img/FacebookIcon.svg","types/User.ts","dialogs/LoginDialog.tsx","types/Proposal.ts","img/CircuitBoard.svg","dialogs/Propose/Step1.tsx","admin/AdminPanel.tsx","admin/index.tsx","dialogs/Propose/Step3.tsx","hocs/requiredAuthenticated.tsx","dialogs/Propose/Step4.tsx","dialogs/Propose/Step2.tsx","utils/Map.ts","components/CountdownButton.tsx","hocs/askBeforeExit.tsx","dialogs/Propose/index.tsx","components/Footer.tsx","App.tsx","ThemedApp.tsx","index.tsx"],"names":["Collection","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","signInWith","provider","Promise","resolve","reject","auth","useDeviceLanguage","signInWithPopup","then","catch","fetchAuthenticated","input","init","currentUser","getIdToken","idToken","fetch","headers","Headers","Authorization","Error","useStyles","makeStyles","theme","appBarTitle","flexGrow","breakpoints","down","display","logoImage","height","spacer","profilePhoto","borderRadius","marginInlineEnd","spacing","AppBar","title","buttons","backButtonProps","position","classes","Toolbar","Container","maxWidth","Box","alignItems","Fade","in","undefined","IconButton","edge","color","aria-label","onClick","ChevronRightTwoTone","src","LogoJpeg","className","alt","Typography","variant","LoggedInUserContext","React","createContext","MainAppBar","setIsAdminDialogOpen","setIsLoginDialogOpen","setLoggedInUser","isProposeScreenOpen","setIsProposeScreenOpen","loggedInUser","useContext","isStaff","Button","signOut","WelcomeTitle","Svg01","Svg02","Svg03","Svg04","Svg05","Svg06","Svg07","Svg08","ProposeActionsContext","GRADIENT","container","flexDirection","background","content","padding","welcomeHeadlineContainer","margin","textAlign","marginLeft","marginBottom","cta","all","overflow","border","cursor","rightGradient","width","values","md","leftGradient","Hero","onLoginButtonClick","openProposeScreen","isLoggedIn","Paper","elevation","square","align","paragraph","ButtonBase","HomeSearchIcon","props","SvgIcon","opacity","fill","d","formatForDisplaying","array","join","fixLabel","label","getSelectBasedSearchFilterRenderer","fieldName","options","FormControl","formControlProps","InputLabel","id","Select","labelId","multiple","renderValue","selected","map","value","onChange","event","updatedSelectedOptions","target","selectProps","option","optionIndex","MenuItem","Checkbox","checked","indexOf","ListItemText","primary","getSelectBasedSearchFilter","filterKey","render","searchFilters","sort","Config","process","apiBase","get","path","params","url","URL","Object","keys","forEach","key","searchParams","append","href","method","post","body","Accept","JSON","stringify","proposal","a","status","json","jsonRes","proposalRaw","createdAt","DateTime","fromISO","proposalId","parseReview","review","query","attributes","business","updatedAt","reviews","SortMethod","server","propose","fetchBusinesses","getAllOpenProposals","acceptProposal","declineProposal","ContainedPrimaryButton","styled","PrimaryButton","StylesMuiRating","withStyles","iconFilled","iconHover","MuiRating","Rating","precision","readOnly","emptyIcon","StarBorder","fontSize","icon","StarTwoTone","typography","body1","name","marginRight","lineHeight","ratingStars","ratingNumber","transform","tinyText","details","gridTemplateColumns","gridGap","buttonsContainer","buttonsContainerSpaceBetweenButtons","justifyContent","buttonsContainerFullWidthButtons","up","borderTop","BusinessAttributeIconAndValues","Tooltip","placement","Array","isArray","item","index","BusinessView","fullWidthButtons","detailed","rating","ratingValue","averageRating","p","pb","style","flexWrap","mb","Badge","badgeContent","LabelTwoTone","info","profession","BookTwoTone","expertise","MapTwoTone","area","locations","PlaceTwoTone","location","city","addressInCity","CallTwoTone","phoneNumbers","TranslateTwoTone","language","SpaTwoTone","healthCare","FiberManualRecordTwoTone","gender","isBlankOrEmpty","str","trim","searchContainer","marginTop","fieldsContainer","freeTextField","gridRow","gridColumn","resultsContainer","only","getBusinessSortingKey","sortMethod","lastUpdate","max","toMillis","BusinessesContainer","businesses","containerProps","disableElevation","useTheme","isSmallScreen","useMediaQuery","useState","setSortMethod","displaySortControl","length","sortedBusinesses","useMemo","businessA","businessB","b","toString","mt","size","fullWidth","e","Card","CardContent","SearchTitle","timeSinceInHebrew","date","diff","local","difference","years","Math","floor","as","months","days","hours","minutes","seconds","SearchOption","author","fontWeight","FocusedBusinessDialog","open","onClose","focusedBusiness","useEffect","stateWasPopped","window","history","pushState","handlePopState","addEventListener","removeEventListener","back","Dialog","startIcon","AddTwoTone","List","disablePadding","reviewIndex","Divider","component","ListItem","moreDetails","root","image","maxHeight","text","top","left","right","bottom","SearchEmptyState","my","emptyStateSvg","circularProgress","animation","MultiColorProgressSpinner","CircularProgress","thickness","backdrop","zIndex","drawer","backdropFilter","backgroundColor","loadingTitle","LoadingBackdrop","Backdrop","searchHeadlineContainer","searchOption","transition","deactivatedSearchOption","selectedFilterApplicatorsReducer","state","action","type","newState","Map","selectedOptions","delete","set","SearchContainer","selectedSearchOption","setSelectedSearchOption","freeTextQuery","setFreeTextQuery","useReducer","selectedFilters","dispatchSelectedFiltersAction","results","setResults","isFocusedBusinessDialogOpen","setIsFocusedBusinessDialogOpen","handleFocusedBusinessDialogClose","useCallback","setFocusedBusiness","enqueueSnackbar","useSnackbar","isLoadingBackdropOpen","setIsLoadingBackdropOpen","fetchResults","FREE_TEXT","FILTERS","preventDuplicate","showBackdropTimeout","setTimeout","searchQuery","freeText","fromEntries","console","error","finally","clearTimeout","gutterBottom","TextField","clsx","onFocus","onKeyPress","preventDefault","InputProps","startAdornment","InputAdornment","searchFilter","SearchTwoTone","User","email","this","endsWith","GoogleLoginButton","onLogin","onError","buttonProps","GoogleAuthProvider","u","py","mr","GoogleIcon","FacebookLoginButton","FacebookAuthProvider","setCustomParameters","signInWithFacebook","FacebookIcon","ErrorSnackbarContent","LoginDialog","setOpen","handleError","handleUserCredential","userCredential","user","displayName","onAuthStateChanged","aria-labelledby","aria-describedby","DialogContent","BusinessProposalType","Step1ResultType","backgroundImage","CircuitBoardPattern","minHeight","appBarMargin","mixins","toolbar","AdminPanel","isErrorSnackBarOpened","setIsErrorSnackBarOpened","isSuccessSnackBarOpened","setIsSuccessSnackBarOpened","openProposals","setOpenProposals","refreshProposals","pt","isAnonymous","toLocaleDateString","day","month","year","alterExisting","Grid","xs","sm","existingBusiness","createNew","Snackbar","autoHideDuration","Alert","Transition","forwardRef","ref","Slide","direction","AdminDialogPanel","fullScreen","disableEscapeKeyDown","TransitionComponent","Close","textField","borderTopRightRadius","button","borderTopLeftRadius","borderBottomLeftRadius","borderBottomRightRadius","overflowX","paddingRight","paddingBottom","minWidth","suggestionsContainerExtendedWidth","Step1","onResult","businessName","setBusinessName","suggestions","setSuggestions","resultsShouldOverflowContainer","placeholder","AccountCircleTwoTone","disabled","useExisting","multilineTextFieldNoLabel","paddingTop","Step3","setRating","setMoreDetails","handleBack","handleNext","_","multiline","rows","withAuthenticated","Component","changeDescription","businessResult","setIsAnonymous","ratingText","FormControlLabel","control","dualColumnGrid","nameTextField","setLocation","phoneNumber","setPhoneNumber","entries","find","setSelectedFilters","editMode","setEditMode","isInvalidRecommendation","iterable","callbackfn","current","next","done","iterableSome","newMap","setMap","businessInfo","address","CountdownButton","enablingTime","children","currentTime","setCurrentTime","interval","setInterval","clearInterval","leftSeconds","withinAskBeforeExit","createStyles","actionsContainer","resetContainer","steps","requireAuthenticated","selectedBusiness","activeStep","setActiveStep","prevActiveStep","setExistingBusiness","setBusinessProposal","sent","setSent","sentSuccessfully","setSentSuccessfully","errorInfo","setErrorInfo","send","timestamp","result","role","plus","Stepper","alternativeLabel","Step","StepLabel","isDialogOpen","setIsDialogOpen","onChooseStay","onBackdropClick","DialogContentText","px","autoFocus","Footer","App","isLoginDialogOpen","isAdminDialogOpen","proposeScreenSelectedBusiness","Rollbar","accessToken","captureUncaught","captureUnhandledRejections","Fragment","CssBaseline","Provider","Collapse","timeout","transitionDelay","enter","exit","Propose","createMuiTheme","palette","main","secondary","fontFamily","h5","textTransform","heIL","jss","create","plugins","jssPreset","rtl","RTL","StylesProvider","ThemedApp","notistackRef","createRef","onClickDismiss","closeSnackbar","ThemeProvider","hideIconVariant","maxSnack","anchorOrigin","horizontal","vertical","CloseTwoTone","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.00d04f50.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\n\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD0e79ilwZg5BVUUOrYB6iAj1w0FZiAkcU\",\n  authDomain: \"maavarimfriendly.firebaseapp.com\",\n  databaseURL: \"https://maavarimfriendly.firebaseio.com\",\n  projectId: \"maavarimfriendly\",\n  storageBucket: \"maavarimfriendly.appspot.com\",\n  messagingSenderId: \"479517849359\",\n  appId: \"1:479517849359:web:998d592de50fe007b4707a\",\n  measurementId: \"G-5YNF4DPSTE\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport enum Collection {\n  Filters = \"filters\"\n}\n\nexport default firebase;\n","import firebase from \"../firebase\";\n\nconst signInWith = (provider: firebase.auth.AuthProvider) =>\n  new Promise<firebase.auth.UserCredential>((resolve, reject) => {\n    firebase.auth().useDeviceLanguage();\n\n    firebase.auth().signInWithPopup(provider).then(resolve).catch(reject);\n  });\n\nexport const signInWithGoogle = () =>\n  signInWith(new firebase.auth.GoogleAuthProvider());\n\nexport const signInWithFacebook = () => {\n  const provider = new firebase.auth.FacebookAuthProvider();\n  provider.setCustomParameters({\n    display: \"popup\",\n  });\n  return signInWith(provider);\n};\n\nexport const checkIfAlreadyLoggedIn = () =>\n  new Promise<firebase.User>((resolve) => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user !== null) resolve(user);\n    });\n  });\n\nexport const logout = () => firebase.auth().signOut();\n\nexport const getIdToken = () => firebase.auth().currentUser?.getIdToken(true);\n\nexport function fetchAuthenticated(\n  input: RequestInfo,\n  init?: RequestInit\n): Promise<Response> {\n  return new Promise(\n    (resolve, reject) =>\n      getIdToken()\n        ?.then((idToken: string) => {\n          fetch(input, {\n            ...(init ?? {}),\n            headers: new Headers({\n              ...(init?.headers ?? {}),\n              Authorization: \"Bearer \" + idToken,\n            }),\n          })\n            .then(resolve)\n            .catch(reject);\n        })\n        .catch(reject) ?? reject(new Error(\"Failed to get user's ID token.\"))\n  );\n}\n","export default __webpack_public_path__ + \"static/media/Logo.7f5e6f44.jpeg\";","import React from \"react\";\nimport {\n  Container,\n  AppBar as MuiAppBar,\n  Toolbar,\n  Typography,\n  makeStyles,\n  Box,\n  IconButton,\n  Fade,\n} from \"@material-ui/core\";\nimport LogoJpeg from \"../img/Logo.jpeg\";\nimport { ChevronRightTwoTone } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBarTitle: {\n    flexGrow: 1,\n    [theme.breakpoints.down(\"xs\")]: {\n      display: \"none\",\n    },\n  },\n  logoImage: {\n    height: \"3em\",\n  },\n  spacer: {\n    [theme.breakpoints.down(\"xs\")]: {\n      flexGrow: 1,\n    },\n  },\n  profilePhoto: {\n    height: \"2em\",\n    borderRadius: \"50%\",\n    marginInlineEnd: `${theme.spacing(1)}px`,\n  },\n}));\n\ninterface AppBarProps {\n  title: string;\n  buttons: JSX.Element;\n  backButtonProps?: {\n    onClick: () => void;\n  };\n  position?: \"fixed\" | \"absolute\" | \"sticky\" | \"static\" | \"relative\";\n}\n\nfunction AppBar({ title, buttons, backButtonProps, position }: AppBarProps) {\n  const classes = useStyles();\n\n  return (\n    <MuiAppBar position={position ?? \"relative\"}>\n      <Toolbar>\n        <Container maxWidth=\"md\">\n          <Box display=\"flex\" alignItems=\"center\">\n            {backButtonProps && (\n              <Fade in={backButtonProps !== undefined}>\n                <IconButton\n                  edge=\"start\"\n                  color=\"inherit\"\n                  aria-label=\"menu\"\n                  onClick={backButtonProps.onClick}\n                >\n                  <ChevronRightTwoTone />\n                </IconButton>\n              </Fade>\n            )}\n            <img src={LogoJpeg} className={classes.logoImage} alt=\"logo\" />\n            <Box className={classes.spacer} />\n            <Typography variant=\"h6\" className={classes.appBarTitle}>\n              {title}\n            </Typography>\n            {buttons}\n          </Box>\n        </Container>\n      </Toolbar>\n    </MuiAppBar>\n  );\n}\n\nexport default AppBar;\n","import React from \"react\";\nimport User from \"../types/User\";\n\nconst LoggedInUserContext = React.createContext<User | null>(null);\n\nexport default LoggedInUserContext;\n","import React, { Fragment, useContext } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport User from \"../types/User\";\nimport { logout } from \"../firebase/auth\";\nimport AppBar from \"./AppBar\";\nimport LoggedInUserContext from \"../context/LoggedInUserContext\";\n\ninterface MainAppBarProps {\n  setIsAdminDialogOpen: (isAdminDialogOpen: boolean) => void;\n  setIsLoginDialogOpen: (isLoginDialogOpen: boolean) => void;\n  setLoggedInUser: (loggedInUser: User | null) => void;\n\n  isProposeScreenOpen: boolean;\n  setIsProposeScreenOpen: (isProposeScreenOpen: boolean) => void;\n}\n\nconst MainAppBar = ({\n  setIsAdminDialogOpen,\n  setIsLoginDialogOpen,\n  setLoggedInUser,\n  isProposeScreenOpen,\n  setIsProposeScreenOpen,\n}: MainAppBarProps) => {\n  const loggedInUser = useContext(LoggedInUserContext);\n\n  return (\n    <AppBar\n      title=\"מעברים – חיפוש אנשי.ות מקצוע\"\n      backButtonProps={\n        isProposeScreenOpen\n          ? {\n              onClick: () => setIsProposeScreenOpen(false),\n            }\n          : undefined\n      }\n      buttons={\n        loggedInUser ? (\n          <Fragment>\n            {loggedInUser?.isStaff && (\n              <Button\n                color=\"inherit\"\n                onClick={() => setIsAdminDialogOpen(true)}\n              >\n                ניהול\n              </Button>\n            )}\n            <Button\n              color=\"inherit\"\n              onClick={() => logout().then(() => setLoggedInUser(null))}\n            >\n              התנתקות\n            </Button>\n          </Fragment>\n        ) : (\n          <Button color=\"inherit\" onClick={() => setIsLoginDialogOpen(true)}>\n            התחברות\n          </Button>\n        )\n      }\n    />\n  );\n};\n\nexport default MainAppBar;\n","export default __webpack_public_path__ + \"static/media/01.5ce7d8f9.svg\";","export default __webpack_public_path__ + \"static/media/02.bc99f808.svg\";","export default __webpack_public_path__ + \"static/media/03.39c08d8d.svg\";","export default __webpack_public_path__ + \"static/media/04.84b5fc2d.svg\";","export default __webpack_public_path__ + \"static/media/05.3ce8da3a.svg\";","export default __webpack_public_path__ + \"static/media/06.246c7635.svg\";","export default __webpack_public_path__ + \"static/media/07.cf95bbcd.svg\";","export default __webpack_public_path__ + \"static/media/08.97da0801.svg\";","import React, { Fragment } from \"react\";\nimport Svg01 from \"./01.svg\";\nimport Svg02 from \"./02.svg\";\nimport Svg03 from \"./03.svg\";\nimport Svg04 from \"./04.svg\";\nimport Svg05 from \"./05.svg\";\nimport Svg06 from \"./06.svg\";\nimport Svg07 from \"./07.svg\";\nimport Svg08 from \"./08.svg\";\n\nconst WelcomeTitle = () => (\n  <Fragment>\n    <img src={Svg01} alt=\"ברוכיםות\" />\n    <img src={Svg02} alt=\"הבאיםות\" />\n    <img src={Svg03} alt=\"למערכת\" />\n    <img src={Svg04} alt=\"אנשי ואנשות\" />\n    <img src={Svg05} alt=\"המקצוע\" />\n    <img src={Svg06} alt=\"של\" />\n    <img src={Svg07} alt=\"הקהילה\" />\n    <img src={Svg08} alt=\"הטרנסית\" />\n  </Fragment>\n);\n\nexport default WelcomeTitle;\n","import React from \"react\";\nimport { ServerBusiness } from \"../types/Business\";\n\nconst ProposeActionsContext = React.createContext<{\n  openProposeScreen: (business?: ServerBusiness) => void;\n} | null>(null);\n\nexport default ProposeActionsContext;\n","import React, { useContext } from \"react\";\nimport {\n  Container,\n  Typography,\n  makeStyles,\n  Box,\n  ButtonBase,\n  Paper,\n} from \"@material-ui/core\";\nimport LoggedInUserContext from \"../context/LoggedInUserContext\";\nimport WelcomeTitle from \"../img/MultiGenderHebrew/WelcomeTitle\";\nimport ProposeActionsContext from \"../context/ProposeActionsContext\";\n\nconst GRADIENT =\n  \"rgba(255,255,255,1) 0%, rgba(245,172,202,1) 50%, rgba(107,175,225,1) 100%\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"stretch\",\n    background: \"white\",\n  },\n  content: {\n    padding: theme.spacing(8, 0, 10),\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: theme.spacing(4, 2, 10, 2),\n    },\n  },\n  welcomeHeadlineContainer: {\n    margin: \"0 auto\",\n    textAlign: \"center\",\n    \"& > img\": {\n      height: \"1.75rem\",\n      marginLeft: \".85rem\",\n      marginBottom: \".25em\",\n      \"&:first-of-type\": {\n        marginLeft: 0,\n      },\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      marginBottom: theme.spacing(1),\n    },\n  },\n  cta: {\n    all: \"unset\",\n    margin: \"-0.25em 0\",\n    padding: \"0 .25em\",\n    overflow: \"hidden\",\n    display: \"inline-flex\",\n    position: \"relative\",\n    borderRadius: \".25em\",\n    border: \"1px currentColor solid\",\n    cursor: \"pointer\",\n  },\n  rightGradient: {\n    width: `calc(50vw - ${theme.breakpoints.values.md / 2}px)`,\n    background: `linear-gradient(90deg, ${GRADIENT})`,\n  },\n  leftGradient: {\n    width: `calc(50vw - ${theme.breakpoints.values.md / 2}px)`,\n    background: `linear-gradient(270deg, ${GRADIENT})`,\n  },\n}));\n\ninterface HeroProps {\n  onLoginButtonClick: () => void;\n}\n\nfunction Hero({ onLoginButtonClick }: HeroProps) {\n  const classes = useStyles();\n\n  const openProposeScreen = useContext(ProposeActionsContext)\n    ?.openProposeScreen;\n\n  const loggedInUser = useContext(LoggedInUserContext);\n  const isLoggedIn = loggedInUser !== null;\n\n  return (\n    <Paper className={classes.container} elevation={2} square>\n      <Box className={classes.rightGradient} />\n      <Container maxWidth=\"md\" className={classes.content}>\n        <Box className={classes.welcomeHeadlineContainer}>\n          <WelcomeTitle />\n        </Box>\n        {isLoggedIn ? (\n          <Typography\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textSecondary\"\n            paragraph\n          >\n            כאן תוכלו למצוא מגוון של אנשות מקצוע, מומחים, רופאות ומטפלים.\n            <br />\n            אנחנו מזמינות אתכםן להשאיר משוב, לדרג ולשתף חוויות.\n            <br />\n            מכיריםות מישהו.י שלא ברשימה?{\" \"}\n            <ButtonBase\n              className={classes.cta}\n              onClick={() => openProposeScreen?.()}\n            >\n              הוסיפו\n            </ButtonBase>{\" \"}\n            אותםן!\n          </Typography>\n        ) : (\n          <Typography\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textSecondary\"\n            paragraph\n          >\n            כאן תוכלו למצוא מגוון של אנשות מקצוע, מומחים, רופאות ומטפלים.\n            <br />\n            אנחנו מזמינות אתכםן להרשם ולהשאיר משוב, לדרג ולשתף חוויות.\n            <br />\n            מכיריםות מישהו.י שלא ברשימה?{\" \"}\n            <ButtonBase className={classes.cta} onClick={onLoginButtonClick}>\n              התחברו\n            </ButtonBase>{\" \"}\n            והוסיפו אותםן!\n          </Typography>\n        )}\n      </Container>\n      <Box className={classes.leftGradient} />\n    </Paper>\n  );\n}\n\nexport default Hero;\n","import React from \"react\";\nimport { SvgIcon, SvgIconProps } from \"@material-ui/core\";\n\nfunction HomeSearchIcon(props: SvgIconProps) {\n  return (\n    <SvgIcon {...props}>\n      <path\n        opacity=\"0.3\"\n        fill=\"currentColor\"\n        d=\"M19.31 18.9C19.75 18.21 20 17.38 20 16.5C20 14 18 12 15.5 12S11 14 11 16.5 13 21 15.5 21C16.37 21 17.19 20.75 17.88 20.32L21 23.39L22.39 22L19.31 18.9M15.5 19C14.12 19 13 17.88 13 16.5S14.12 14 15.5 14 18 15.12 18 16.5 16.88 19 15.5 19M5 20V12H2L12 3L22 12H20.18C19 10.77 17.34 10 15.5 10C11.92 10 9 12.92 9 16.5C9 17.79 9.38 19 10.03 20H5Z\"\n      />\n      <path\n        fill=\"currentColor\"\n        d=\"M19.31 18.9C19.75 18.21 20 17.38 20 16.5C20 14 18 12 15.5 12S11 14 11 16.5 13 21 15.5 21C16.37 21 17.19 20.75 17.88 20.32L21 23.39L22.39 22L19.31 18.9M15.5 19C14.12 19 13 17.88 13 16.5S14.12 14 15.5 14 18 15.12 18 16.5 16.88 19 15.5 19M5 20V12H2L12 3L22 12H20.18C19.33 11.11 18.23 10.47 17 10.18L12 5.69L7 10.19V18H9.18C9.35 18.72 9.64 19.39 10.03 20H5Z\"\n      />\n    </SvgIcon>\n  );\n}\n\nexport default HomeSearchIcon;\n","export const reduceNulls = <T>(array: (T | null)[]) =>\n  array.indexOf(null) > -1 ? null : (array as T[]);\n\nexport const moveElementUp = <T>(array: T[], index: number) =>\n  index === 0\n    ? array\n    : [\n        ...array.slice(0, index - 1),\n        array[index],\n        array[index - 1],\n        ...array.slice(index + 1),\n      ];\n\nexport const iterableSome = <T>(\n  iterable: IterableIterator<T>,\n  callbackfn: (value: T) => boolean\n) => {\n  let current = iterable.next();\n  while (!current.done) {\n    if (callbackfn(current.value)) return true;\n    current = iterable.next();\n  }\n  return false;\n};\n\nexport const formatForDisplaying = (array: string[]) => array.join(\" · \");\n","import React from \"react\";\nimport {\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Checkbox,\n  ListItemText,\n} from \"@material-ui/core\";\nimport SearchFilter, { SearchFilterRenderer } from \".\";\nimport { formatForDisplaying } from \"../utils/Array\";\n\nconst fixLabel = (label: string) =>\n  label === \"ירדן )יריחו(\" ? \"ירדן / ירחו\" : label;\n\nfunction getSelectBasedSearchFilterRenderer(\n  fieldName: string,\n  title: string,\n  options: string[]\n): SearchFilterRenderer {\n  return (props) => {\n    const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n      const updatedSelectedOptions = event.target.value as string[];\n      props.onChange(updatedSelectedOptions);\n    };\n\n    return (\n      <FormControl\n        color=\"secondary\"\n        variant=\"filled\"\n        {...(props.formControlProps ?? {})}\n      >\n        <InputLabel id={`select-${fieldName}`}>{title}</InputLabel>\n        <Select\n          labelId={`select-${fieldName}`}\n          multiple\n          renderValue={(selected) => formatForDisplaying((selected as string[]).map(fixLabel))}\n          value={props.value}\n          onChange={handleChange}\n          {...(props.selectProps ?? {})}\n        >\n          {options.map((option, optionIndex) => (\n            <MenuItem value={option} key={optionIndex}>\n              <Checkbox checked={(props.value?.indexOf(option) ?? -1) > -1} />\n              <ListItemText primary={fixLabel(option)} />\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    );\n  };\n}\n\nexport function getSelectBasedSearchFilter(\n  filterKey: string,\n  title: string,\n  options: string[]\n): SearchFilter {\n  return {\n    filterKey,\n    render: getSelectBasedSearchFilterRenderer(filterKey, title, options),\n  };\n}\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"profession\";\nconst title = \"מקצוע\";\nconst options = [\n  \"אחר\",\n  \"מחלקה בבי״ח\",\n  \"מטפל.ת\",\n  \"מעסה\",\n  \"עוסק.ת מתחום הרפואה\",\n  \"פאות ותוספות שיער\",\n  \"קוסמטיקאי.ת\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import professionSearchFilter from \"./profession\";\nimport expertiseSearchFilter from \"./expertise\";\nimport areaSearchFilter from \"./area\";\nimport healthCareSearchFilter from \"./healthCare\";\nimport languageSearchFilter from \"./language\";\nimport genderSearchFilter from \"./gender\";\nimport { FormControlProps, SelectProps } from \"@material-ui/core\";\n\ninterface SearchFilterProps {\n  value: string[];\n  onChange: (selectedOptions: string[]) => void;\n  selectProps?: SelectProps;\n  formControlProps?: FormControlProps;\n}\n\nexport type SearchFilterRenderer = (props: SearchFilterProps) => JSX.Element;\n\nexport type SearchFilter = {\n  filterKey: string;\n  render: SearchFilterRenderer;\n};\n\nexport const searchFilters = [\n  professionSearchFilter,\n  expertiseSearchFilter,\n  areaSearchFilter,\n  healthCareSearchFilter,\n  languageSearchFilter,\n  genderSearchFilter,\n];\n\nexport default SearchFilter;\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"expertise\";\nconst title = \"התמחות\";\nconst options = [\n  \"אולטרסאונד\",\n  \"אורטופדיה\",\n  \"אח.ות\",\n  \"אחר\",\n  \"אנדוקרינולוגיה\",\n  \"גניקולוגיה\",\n  \"גסטרולוגיה\",\n  \"המטולוגיה\",\n  \"הסרת שיער בלייזר\",\n  \"טיפול באמנות\",\n  \"ילדים ומתבגרים\",\n  \"כירורגיה\",\n  \"משפחה\",\n  \"נפרולוגיה\",\n  \"עבודה סוציאלית\",\n  \"עור ומין\",\n  \"עיניים\",\n  \"פנימית\",\n  \"פסיכולוגיה\",\n  \"פסיכותרפיה\",\n  \"פסיכיאטריה\",\n  \"קלינאי.ת תקשורת\",\n  \"רפואה אלטרנטיבית\",\n  \"שיננית\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"area\";\nconst title = \"אזור\";\nconst options = [\n  \"חדרה\",\n  \"השרון\",\n  \"ירושלים\",\n  \"עכו\",\n  \"רחובות\",\n  \"עפולה\",\n  \"גולן\",\n  \"אשקלון\",\n  \"כנרת\",\n  \"באר שבע\",\n  \"פתח תקווה\",\n  \"ירדן )יריחו(\",\n  \"נצרת\",\n  \"רמלה\",\n  \"צפת\",\n  \"חיפה\",\n  \"ראמאללה\",\n  \"טול כרם\",\n  \"תל אביב\",\n  \"חברון\",\n  \"רמת גן\",\n  \"בית לחם\",\n  \"שכם\",\n  \"ג׳נין\",\n  \"חולון\",\n].sort();\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"healthCare\";\nconst title = \"קופת חולים\";\nconst options = [\n  \"כללית\",\n  \"מכבי\",\n  \"לאומית\",\n  \"מאוחדת\",\n  \"פרטי\",\n  \"בית חולים\",\n  \"צה״ל\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"language\";\nconst title = \"שפה\";\nconst options = [\n  \"עברית\",\n  \"אנגלית\",\n  \"רוסית\",\n  \"ערבית\",\n  \"צרפתית\",\n  \"גרמנית\",\n  \"ספרדית\",\n  \"פורטוגזית\",\n  \"איטלקית\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"gender\";\nconst title = \"מגדר\";\nconst options = [\"אחר\", \"אישה\", \"גבר\"];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","const debug = !process.env.NODE_ENV || process.env.NODE_ENV === \"development\";\n\nexport const Config = {\n  searchFilterLength: 64,\n  debug,\n};\n","import { Config } from \"../utils/Config\";\nimport { fetchAuthenticated } from \"../firebase/auth\";\nimport { ServerBusiness } from \"../types/Business\";\nimport { Proposal, StoredProposal } from \"../types/Proposal\";\nimport { ServerReview } from \"../types/Review\";\nimport { DateTime } from \"luxon\";\n\nconst apiBase = Config.debug\n  ? \"http://localhost:5000/\"\n  : \"https://maavarim.herokuapp.com/\";\n\nconst get = (path: string, params: any = {}, auth: boolean = true) => {\n  const url = new URL(apiBase + path);\n  Object.keys(params).forEach((key) =>\n    url.searchParams.append(key, params[key])\n  );\n\n  return (auth ? fetchAuthenticated : fetch)(url.href, {\n    method: \"get\",\n  });\n};\n\nconst post = (path: string, body: any = {}, auth: boolean = true) =>\n  (auth ? fetchAuthenticated : fetch)(apiBase + path, {\n    method: \"post\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\nasync function propose(proposal: Proposal): Promise<void> {\n  return post(\"proposal/\", proposal).then(({ status }) => {\n    if (status !== 200) throw new Error();\n  });\n}\n\nasync function getAllOpenProposals(): Promise<StoredProposal[]> {\n  const jsonRes = await (await get(\"proposal/\")).json();\n  return jsonRes[\"proposals\"].map((proposalRaw: StoredProposal) => ({\n    ...proposalRaw,\n    createdAt: proposalRaw.createdAt && DateTime.fromISO(proposalRaw.createdAt),\n  })) as StoredProposal[];\n}\n\nasync function acceptProposal(proposalId: number): Promise<void> {\n  return post(`proposal/${proposalId}/accept/`).then(({ status }) => {\n    if (status !== 200) throw new Error();\n  });\n}\n\nasync function declineProposal(proposalId: number): Promise<void> {\n  return post(`proposal/${proposalId}/decline/`).then(({ status }) => {\n    if (status !== 200) throw new Error();\n  });\n}\n\nfunction parseReview(review: any): ServerReview {\n  return {\n    ...review,\n    createdAt: review.createdAt && DateTime.fromISO(review.createdAt),\n  };\n}\n\nasync function fetchBusinesses(query: any): Promise<ServerBusiness[]> {\n  const jsonRes = await (\n    await get(\n      \"business/\",\n      { ...query, attributes: JSON.stringify(query.attributes) },\n      false\n    )\n  ).json();\n  return jsonRes[\"businesses\"].map((business: any) => ({\n    ...business,\n    updatedAt: business.updatedAt && DateTime.fromISO(business.updatedAt),\n    reviews: business.reviews.map(parseReview),\n  }));\n}\n\nconst server = {\n  propose,\n  fetchBusinesses,\n  getAllOpenProposals,\n  acceptProposal,\n  declineProposal,\n};\n\nexport default server;\n","import React, { useMemo, useState } from \"react\";\nimport { ServerBusiness } from \"../types/Business\";\nimport {\n  makeStyles,\n  Box,\n  Card,\n  CardContent,\n  BoxProps,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormControl,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport BusinessView, { RatingProp } from \"./BusinessView\";\nimport { DateTime } from \"luxon\";\nimport { getStringSortKey } from \"../utils/String\";\n\nconst useStyles = makeStyles((theme) => ({\n  searchContainer: {\n    marginTop: `-${theme.spacing(4)}px`,\n  },\n  fieldsContainer: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n  freeTextField: {\n    gridRow: 1,\n    gridColumn: \"1 / 3\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridColumn: 1,\n    },\n  },\n  resultsContainer: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridTemplateColumns: \"repeat(3, 1fr)\",\n    alignItems: \"start\",\n    [theme.breakpoints.only(\"xs\")]: {\n      gridTemplateColumns: \"repeat(2, 1fr)\",\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n}));\n\ninterface BusinessesContainerProps {\n  businesses: ServerBusiness[];\n  buttons: (business: ServerBusiness) => JSX.Element;\n  containerProps?: BoxProps;\n  disableElevation?: boolean;\n  rating?: RatingProp;\n}\n\nenum SortMethod {\n  lastUpdate,\n  averageRating,\n}\n\nconst getBusinessSortingKey = (\n  sortMethod: SortMethod,\n  business: ServerBusiness\n) => {\n  switch (sortMethod) {\n    case SortMethod.averageRating:\n      return business.averageRating || 2.5; // we treat no rating as neutral rating\n    case SortMethod.lastUpdate:\n      return DateTime.max(\n        business.updatedAt,\n        ...(business.reviews || []).map((review) => review.createdAt)\n      ).toMillis();\n    default:\n      throw Error(`Unknown SortMethod ${sortMethod}`);\n  }\n};\n\nconst BusinessesContainer = ({\n  businesses,\n  buttons,\n  containerProps,\n  disableElevation,\n  rating,\n}: BusinessesContainerProps) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const isSmallScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [sortMethod, setSortMethod] = useState(SortMethod.averageRating);\n\n  const displaySortControl = isSmallScreen\n    ? businesses.length >= 2\n    : businesses.length >= 3;\n\n  const sortedBusinesses = useMemo(\n    () =>\n      businesses.sort(\n        (businessA, businessB) =>\n          getBusinessSortingKey(sortMethod, businessB) -\n            getBusinessSortingKey(sortMethod, businessA) || // high -> low using key\n          getStringSortKey(businessA.name.trim(), businessB.name.trim()) // a -> z by string comparing key\n      ),\n    [businesses, sortMethod]\n  );\n\n  return (\n    <>\n      {displaySortControl && (\n        <Box mt={3} display=\"flex\" justifyContent=\"start\">\n          <FormControl variant=\"filled\" size=\"small\" fullWidth={isSmallScreen}>\n            <InputLabel>מיון לפי</InputLabel>\n            <Select\n              value={sortMethod}\n              onChange={(e) => setSortMethod(e.target.value as SortMethod)}\n            >\n              <MenuItem value={SortMethod.averageRating}>דירוג ממוצע</MenuItem>\n              <MenuItem value={SortMethod.lastUpdate}>עדכון אחרון</MenuItem>\n            </Select>\n          </FormControl>\n        </Box>\n      )}\n\n      <Box\n        className={classes.resultsContainer}\n        mt={2}\n        mb={2}\n        {...containerProps}\n      >\n        {sortedBusinesses.map((business) => (\n          <Card\n            key={business.id}\n            elevation={disableElevation ? 0 : 1}\n            style={{ height: \"100%\" }}\n          >\n            <CardContent\n              style={{\n                padding: 0,\n                height: \"100%\",\n                display: \"flex\",\n                flexDirection: \"column\",\n              }}\n            >\n              <BusinessView\n                business={business}\n                buttons={buttons(business)}\n                fullWidthButtons\n                rating={rating}\n              />\n            </CardContent>\n          </Card>\n        ))}\n      </Box>\n    </>\n  );\n};\n\nexport default BusinessesContainer;\n","import { styled, Button } from \"@material-ui/core\";\n\nexport const ContainedPrimaryButton = styled(Button)({\n  background: \"#9c27b0\",\n  color: \"#f1efef\",\n  \"&:hover\": {\n    background: \"rgba(156, 39, 176, 0.85)\"\n  }\n});\n\nexport const PrimaryButton = styled(Button)({\n  background: \"#f9f9f9\",\n  color: \"#8e24aa\"\n});\n\nexport const DangerButton = styled(Button)({\n  background: \"#f9f9f9\",\n  color: \"#d32f2f\"\n});\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core\";\nimport { Rating as MuiRating, RatingProps } from \"@material-ui/lab\";\nimport { StarBorder, StarTwoTone } from \"@material-ui/icons\";\n\nconst StylesMuiRating = withStyles({\n  iconFilled: {\n    color: \"#8e24aa\",\n  },\n  iconHover: {\n    color: \"#a739c6\",\n  },\n})(MuiRating);\n\nconst Rating = (props: RatingProps) => (\n  <StylesMuiRating\n    precision={props.readOnly ? 0.5 : 1}\n    emptyIcon={<StarBorder fontSize=\"inherit\" />}\n    icon={<StarTwoTone fontSize=\"inherit\" />}\n    color=\"secondary\"\n    {...props}\n  />\n);\n\nexport default Rating;\n","import React, { Fragment } from \"react\";\nimport { Typography, makeStyles, Box, Badge, Tooltip } from \"@material-ui/core\";\nimport {\n  PlaceTwoTone,\n  LabelTwoTone,\n  CallTwoTone,\n  TranslateTwoTone,\n  SpaTwoTone,\n  BookTwoTone,\n  MapTwoTone,\n  FiberManualRecordTwoTone,\n} from \"@material-ui/icons\";\nimport Rating from \"./Rating\";\nimport Business, { ServerBusiness } from \"../types/Business\";\nimport { formatForDisplaying } from \"../utils/Array\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    fontSize: theme.typography.body1.fontSize,\n  },\n  name: {\n    flexGrow: 1,\n    marginRight: theme.spacing(2),\n    lineHeight: \"1em\",\n  },\n  ratingStars: {\n    fontSize: \"1.1em\",\n  },\n  ratingNumber: {\n    fontSize: \"1.1rem\",\n    lineHeight: \"1em\",\n    \"& > .MuiBadge-badge\": {\n      transform: \"unset\",\n      position: \"unset\",\n    },\n  },\n  tinyText: {\n    fontSize: \".8em\",\n  },\n  details: {\n    display: \"grid\",\n    gridTemplateColumns: \"1.1em 1fr\",\n    gridGap: \".25em .5em\",\n    \"& .MuiSvgIcon-root\": {\n      fontSize: \"1.1em\",\n      height: \"1.1em\",\n      width: \"1.1em\",\n    },\n  },\n  buttonsContainer: {\n    display: \"flex\",\n  },\n  buttonsContainerSpaceBetweenButtons: {\n    justifyContent: \"center\",\n  },\n  buttonsContainerFullWidthButtons: {\n    [theme.breakpoints.up(\"xs\")]: {\n      borderTop: \"1px solid #f7ecf9\",\n      \"& .MuiButton-root\": {\n        borderRadius: 0,\n        flexGrow: 1,\n      },\n    },\n  },\n}));\n\nexport type RatingProp = \"number\" | \"stars\";\n\ntype BusinessViewProps = {\n  buttons?: JSX.Element;\n  fullWidthButtons?: boolean;\n  detailed?: boolean;\n} & (\n  | {\n      business: Business;\n      rating: false;\n    }\n  | {\n      business: ServerBusiness;\n      rating?: RatingProp;\n    }\n);\n\ntype BusinessAttributeIconAndValuesProps = {\n  icon: JSX.Element;\n  title: string;\n  content: JSX.Element | string | string[];\n};\nconst BusinessAttributeIconAndValues = ({\n  icon,\n  title,\n  content,\n}: BusinessAttributeIconAndValuesProps) => (\n  <>\n    <Tooltip title={title} aria-label={title}>\n      {icon}\n    </Tooltip>\n    <Tooltip title={title} aria-label={title} placement=\"bottom-start\">\n      <Box>\n        {Array.isArray(content) ? (\n          <>\n            {content.map((item, index) => (\n              <Fragment key={index}>\n                {0 < index && <br />}\n                {item}\n              </Fragment>\n            ))}\n          </>\n        ) : (\n          content\n        )}\n      </Box>\n    </Tooltip>\n  </>\n);\n\nconst BusinessView = ({\n  business,\n  buttons,\n  fullWidthButtons = false,\n  detailed = false,\n  rating,\n}: BusinessViewProps) => {\n  const classes = useStyles();\n\n  const ratingValue =\n    rating !== null ? (business as ServerBusiness).averageRating : null;\n\n  return (\n    <Fragment>\n      <Box className={classes.container} p={2} pb={1} style={{ flexGrow: 1 }}>\n        <Box display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" mb={1}>\n          <Typography variant=\"h6\" className={classes.name}>\n            {business.name}\n          </Typography>\n          {ratingValue !== null && (\n            <>\n              {rating === \"stars\" && (\n                <Rating\n                  className={classes.ratingStars}\n                  value={ratingValue}\n                  readOnly\n                />\n              )}\n              {rating === \"number\" && ratingValue && (\n                <Badge\n                  badgeContent={ratingValue}\n                  color=\"secondary\"\n                  className={classes.ratingNumber}\n                />\n              )}\n            </>\n          )}\n        </Box>\n\n        <Box className={classes.details}>\n          <BusinessAttributeIconAndValues\n            title=\"מקצוע\"\n            icon={<LabelTwoTone />}\n            content={formatForDisplaying(business.info.profession)}\n          />\n\n          {detailed && (\n            <BusinessAttributeIconAndValues\n              title=\"התמחות\"\n              icon={<BookTwoTone />}\n              content={formatForDisplaying(business.info.expertise)}\n            />\n          )}\n\n          <BusinessAttributeIconAndValues\n            title=\"איזור\"\n            icon={<MapTwoTone />}\n            content={formatForDisplaying(business.info.area)}\n          />\n\n          {business.info.locations && (\n            <BusinessAttributeIconAndValues\n              title=\"כתובת\"\n              icon={<PlaceTwoTone />}\n              content={business.info.locations.map(\n                (location) => `${location.city.name}, ${location.addressInCity}`\n              )}\n            />\n          )}\n\n          {detailed && (\n            <BusinessAttributeIconAndValues\n              title=\"מספר טלפון\"\n              icon={<CallTwoTone />}\n              content={business.info.phoneNumbers}\n            />\n          )}\n\n          <BusinessAttributeIconAndValues\n            title=\"שפה\"\n            icon={<TranslateTwoTone />}\n            content={formatForDisplaying(business.info.language)}\n          />\n\n          <BusinessAttributeIconAndValues\n            title=\"קופת חולים\"\n            icon={<SpaTwoTone />}\n            content={formatForDisplaying(business.info.healthCare)}\n          />\n\n          <BusinessAttributeIconAndValues\n            title=\"מגדר\"\n            icon={<FiberManualRecordTwoTone />}\n            content={formatForDisplaying(business.info.gender)}\n          />\n        </Box>\n      </Box>\n      {buttons && (\n        <Box\n          className={\n            classes.buttonsContainer +\n            ` ${\n              fullWidthButtons\n                ? classes.buttonsContainerFullWidthButtons\n                : classes.buttonsContainerSpaceBetweenButtons\n            }`\n          }\n        >\n          {buttons}\n        </Box>\n      )}\n    </Fragment>\n  );\n};\n\nexport default BusinessView;\n","export const isBlankOrEmpty = (str: string) => str.trim() === \"\";\n\nexport const getStringSortKey = (a: string, b: string) =>\n  a.toString() < b.toString() ? -1 : 1;\n","export default __webpack_public_path__ + \"static/media/01.2b0f37d4.svg\";","export default __webpack_public_path__ + \"static/media/02.e84a149a.svg\";","export default __webpack_public_path__ + \"static/media/03.456d622f.svg\";","import React, { Fragment } from \"react\";\nimport Svg01 from \"./01.svg\";\nimport Svg02 from \"./02.svg\";\nimport Svg03 from \"./03.svg\";\n\nconst SearchTitle = () => (\n  <Fragment>\n    <img src={Svg01} alt=\"חיפוש\" />\n    <img src={Svg02} alt=\"אנשי ואנשות\" />\n    <img src={Svg03} alt=\"מקצוע\" />\n  </Fragment>\n);\n\nexport default SearchTitle;\n","import { DateTime } from \"luxon\";\n\nexport const formatDateToDisplay = (date: Date) => {\n  return date.toLocaleDateString(\"he\", {\n    day: \"numeric\",\n    month: \"numeric\",\n    year: \"2-digit\",\n  });\n};\n\nexport function timeSinceInHebrew(date: DateTime): string {\n  let diff = DateTime.local().diff(date);\n\n  const difference = {\n    years: Math.floor(diff.as(\"years\")),\n    months: Math.floor(diff.as(\"months\")),\n    days: Math.floor(diff.as(\"days\")),\n    hours: Math.floor(diff.as(\"hours\")),\n    minutes: Math.floor(diff.as(\"minutes\")),\n    seconds: Math.floor(diff.as(\"seconds\")),\n  };\n\n  if (difference.years > 1) {\n    return `לפני ${difference.years} שנים`;\n  }\n  if (difference.months > 1) {\n    return `לפני ${difference.months} חודשים`;\n  }\n  if (difference.days > 1) {\n    return `לפני ${difference.days} ימים`;\n  }\n  if (difference.hours > 1) {\n    return `לפני ${difference.hours} שעות`;\n  }\n  if (difference.minutes > 1) {\n    return `לפני ${difference.minutes} דקות`;\n  }\n  if (difference.seconds > 1) {\n    return `לפני ${difference.seconds} שניות`;\n  }\n\n  return \"ברגע זה\";\n}\n","import React, { Fragment, useEffect } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  Divider,\n  List,\n  ListItem,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport { ServerBusiness } from \"../types/Business\";\nimport BusinessView from \"./BusinessView\";\nimport { AddTwoTone } from \"@material-ui/icons\";\nimport Rating from \"./Rating\";\nimport { timeSinceInHebrew } from \"../utils/Date\";\n\ntype FocusedBusinessDialogProps = {\n  open: boolean;\n  onClose: () => void;\n  focusedBusiness: ServerBusiness | null;\n  openProposeScreen?:\n    | ((business?: ServerBusiness | undefined) => void)\n    | undefined;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  reviews: {\n    marginTop: theme.spacing(1),\n  },\n  review: {\n    padding: theme.spacing(1.5, 2),\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n  },\n  author: {\n    fontWeight: \"bold\",\n  },\n  rating: {\n    fontSize: \"1.1em\",\n  },\n  createdAt: {\n    fontWeight: \"bold\",\n    display: \"inline\",\n  },\n}));\n\nconst FocusedBusinessDialog = ({\n  open,\n  onClose,\n  focusedBusiness,\n  openProposeScreen,\n}: FocusedBusinessDialogProps) => {\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (!open) {\n      return;\n    }\n\n    let stateWasPopped = false;\n\n    window.history.pushState({}, \"\", \"\");\n\n    const handlePopState = () => {\n      stateWasPopped = true;\n      onClose();\n    };\n    window.addEventListener(\"popstate\", handlePopState);\n    return () => {\n      window.removeEventListener(\"popstate\", handlePopState);\n      if (!stateWasPopped) {\n        window.history.back();\n      }\n    };\n  }, [open, onClose]);\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\n      <Box p={1}>\n        {focusedBusiness && (\n          <Fragment>\n            <BusinessView\n              business={focusedBusiness}\n              rating=\"stars\"\n              detailed\n              buttons={\n                <Fragment>\n                  <Button\n                    variant=\"text\"\n                    startIcon={<AddTwoTone />}\n                    onClick={() => openProposeScreen?.(focusedBusiness)} // TODO\n                    color=\"primary\"\n                  >\n                    יש לי מה להוסיף\n                  </Button>\n                </Fragment>\n              }\n            />\n            {focusedBusiness.reviews && (\n              <List disablePadding className={classes.reviews}>\n                {focusedBusiness.reviews.map((review, reviewIndex) => (\n                  <Fragment key={reviewIndex}>\n                    <Divider variant=\"middle\" component=\"li\" />\n                    <ListItem className={classes.review}>\n                      <Box\n                        display=\"flex\"\n                        justifyContent=\"space-between\"\n                        alignItems=\"center\"\n                      >\n                        <Typography className={classes.author}>\n                          {review.author\n                            ? review.author.name\n                            : \"שולח.ת אנונימי.ת\"}\n                        </Typography>\n                        {review.content.rating !== null && (\n                          <Rating\n                            className={classes.rating}\n                            value={review.content.rating}\n                            readOnly\n                          />\n                        )}\n                      </Box>\n                      {review.content.moreDetails && (\n                        <Typography variant=\"body1\">\n                          {review.content.moreDetails}\n                        </Typography>\n                      )}\n                      <Typography variant=\"caption\" color=\"textSecondary\">\n                        {timeSinceInHebrew(review.createdAt)}\n                      </Typography>\n                    </ListItem>\n                  </Fragment>\n                ))}\n              </List>\n            )}\n          </Fragment>\n        )}\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default FocusedBusinessDialog;\n","import React, {\n  useState,\n  Fragment,\n  useReducer,\n  useContext,\n  useEffect,\n  useCallback,\n} from \"react\";\nimport {\n  Typography,\n  makeStyles,\n  Box,\n  Card,\n  CardContent,\n  TextField,\n  InputAdornment,\n  Button,\n} from \"@material-ui/core\";\nimport HomeSearchIcon from \"../icons/HomeSearchIcon\";\nimport SearchFilter, { searchFilters } from \"../searchFilters\";\nimport server from \"../server\";\nimport { ServerBusiness } from \"../types/Business\";\nimport { PrimaryButton, ContainedPrimaryButton } from \"./StyledButtons\";\nimport BusinessesContainer from \"./BusinessesContainer\";\nimport SearchTitle from \"../img/MultiGenderHebrew/SearchTitle\";\nimport FocusedBusinessDialog from \"./FocusedBusinessDialog\";\nimport SearchEmptyState from \"./SearchEmptyState\";\nimport ProposeActionsContext from \"../context/ProposeActionsContext\";\nimport clsx from \"clsx\";\nimport { isBlankOrEmpty } from \"../utils/String\";\nimport { useSnackbar } from \"notistack\";\nimport LoadingBackdrop from \"./LoadingBackdrop\";\nimport { SearchTwoTone } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  searchHeadlineContainer: {\n    textAlign: \"center\",\n    margin: \"0rem auto\",\n    marginTop: \".85rem\",\n    \"& > img\": {\n      height: \"1.35rem\",\n      marginLeft: \".75em\",\n      marginBottom: \".25em\",\n      \"&:first-of-type\": {\n        marginLeft: 0,\n      },\n    },\n  },\n  fieldsContainer: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n  freeTextField: {\n    gridRow: 1,\n    gridColumn: \"1 / 3\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridColumn: 1,\n    },\n  },\n  searchOption: {\n    transition: \"opacity .2s ease\",\n  },\n  deactivatedSearchOption: {\n    opacity: 0.35,\n  },\n}));\n\ntype SelectedFilterApplicatorsState = Map<string, string[]>;\ntype SelectedFilterApplicatorsReducerAction =\n  | {\n      type: \"change\";\n      filterKey: string;\n      selectedOptions: string[];\n    }\n  | { type: \"clearAll\" };\n\nfunction selectedFilterApplicatorsReducer(\n  state: SelectedFilterApplicatorsState,\n  action: SelectedFilterApplicatorsReducerAction\n): SelectedFilterApplicatorsState {\n  switch (action.type) {\n    case \"change\":\n      const newState = new Map(state);\n      if (action.selectedOptions.length === 0) {\n        newState.delete(action.filterKey);\n      } else {\n        newState.set(action.filterKey, action.selectedOptions);\n      }\n      return newState;\n    case \"clearAll\":\n      return new Map();\n  }\n}\n\nenum SearchOption {\n  FREE_TEXT,\n  FILTERS,\n}\n\nfunction SearchContainer() {\n  const classes = useStyles();\n\n  const openProposeScreen = useContext(ProposeActionsContext)\n    ?.openProposeScreen;\n\n  const [\n    selectedSearchOption,\n    setSelectedSearchOption,\n  ] = useState<SearchOption | null>(null);\n\n  const [freeTextQuery, setFreeTextQuery] = useState(\"\");\n  const [selectedFilters, dispatchSelectedFiltersAction] = useReducer(\n    selectedFilterApplicatorsReducer,\n    new Map<string, string[]>()\n  );\n  const [results, setResults] = useState<ServerBusiness[] | null>(null);\n\n  const [\n    isFocusedBusinessDialogOpen,\n    setIsFocusedBusinessDialogOpen,\n  ] = useState(false);\n  const handleFocusedBusinessDialogClose = useCallback(\n    () => setIsFocusedBusinessDialogOpen(false),\n    []\n  );\n  const [focusedBusiness, setFocusedBusiness] = useState<ServerBusiness | null>(\n    null\n  );\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [isLoadingBackdropOpen, setIsLoadingBackdropOpen] = useState(false);\n  const fetchResults = () => {\n    if (\n      selectedSearchOption === null ||\n      (selectedSearchOption === SearchOption.FREE_TEXT &&\n        isBlankOrEmpty(freeTextQuery)) ||\n      (selectedSearchOption === SearchOption.FILTERS &&\n        selectedFilters.size === 0)\n    ) {\n      enqueueSnackbar(\"צריך לבחור מסננים לחיפוש\", { preventDuplicate: true });\n      return;\n    }\n\n    const showBackdropTimeout = setTimeout(() => {\n      setIsLoadingBackdropOpen(true);\n    }, 1000);\n\n    const searchQuery = {\n      freeText:\n        selectedSearchOption === SearchOption.FREE_TEXT ? freeTextQuery : \"\",\n      attributes:\n        selectedSearchOption === SearchOption.FILTERS\n          ? Object.fromEntries(selectedFilters)\n          : {},\n    };\n\n    server\n      .fetchBusinesses(searchQuery)\n      .then(setResults)\n      .catch(console.error)\n      .finally(() => {\n        clearTimeout(showBackdropTimeout);\n        setIsLoadingBackdropOpen(false);\n      });\n  };\n\n  const clearSelections = () => {\n    dispatchSelectedFiltersAction({ type: \"clearAll\" });\n    setFreeTextQuery(\"\");\n  };\n\n  useEffect(() => {\n    if (!isBlankOrEmpty(freeTextQuery)) {\n      setSelectedSearchOption(SearchOption.FREE_TEXT);\n    }\n  }, [freeTextQuery]);\n\n  return (\n    <Fragment>\n      <Card>\n        <CardContent style={{ padding: 0 }}>\n          <Box p={2}>\n            <Box mb={2}>\n              <Box className={classes.searchHeadlineContainer}>\n                <SearchTitle />\n              </Box>\n              <Typography align=\"center\" color=\"textSecondary\" gutterBottom>\n                חפשו לפי שם נותן.ת השירות <strong>או</strong> סננו לפי השדות\n              </Typography>\n            </Box>\n            <Box className={classes.fieldsContainer}>\n              <TextField\n                className={clsx(classes.freeTextField, classes.searchOption, {\n                  [classes.deactivatedSearchOption]: !(\n                    selectedSearchOption === null ||\n                    selectedSearchOption === SearchOption.FREE_TEXT\n                  ),\n                })}\n                label=\"שם נותן.ת השירות\"\n                value={freeTextQuery}\n                onChange={(event) => setFreeTextQuery(event.target.value)}\n                color=\"secondary\"\n                variant=\"filled\"\n                onFocus={() => setSelectedSearchOption(SearchOption.FREE_TEXT)}\n                onKeyPress={(e) => {\n                  if (e.key === \"Enter\") {\n                    fetchResults();\n                    e.preventDefault();\n                  }\n                }}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <HomeSearchIcon />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              {searchFilters.map((searchFilter: SearchFilter) => (\n                <searchFilter.render\n                  key={searchFilter.filterKey}\n                  value={selectedFilters.get(searchFilter.filterKey) ?? []}\n                  formControlProps={{\n                    className: clsx(classes.searchOption, {\n                      [classes.deactivatedSearchOption]: !(\n                        selectedSearchOption === null ||\n                        selectedSearchOption === SearchOption.FILTERS\n                      ),\n                    }),\n                  }}\n                  onChange={(selectedOptions) =>\n                    dispatchSelectedFiltersAction({\n                      type: \"change\",\n                      filterKey: searchFilter.filterKey,\n                      selectedOptions,\n                    })\n                  }\n                  selectProps={{\n                    onFocus: () => {\n                      setSelectedSearchOption(SearchOption.FILTERS);\n                    },\n                  }}\n                />\n              ))}\n            </Box>\n            <Box display=\"flex\" justifyContent=\"space-between\" mt={1}>\n              <Button variant=\"outlined\" onClick={clearSelections}>\n                איפוס\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={fetchResults}\n                startIcon={<SearchTwoTone />}\n              >\n                חיפוש\n              </Button>\n            </Box>\n          </Box>\n        </CardContent>\n      </Card>\n      {results !== null ? (\n        results.length === 0 ? (\n          <SearchEmptyState />\n        ) : (\n          <BusinessesContainer\n            businesses={results}\n            rating=\"number\"\n            buttons={(business) => (\n              <Fragment>\n                <PrimaryButton\n                  size=\"small\"\n                  style={{}}\n                  onClick={() => {\n                    setFocusedBusiness(business);\n                    setIsFocusedBusinessDialogOpen(true);\n                  }}\n                >\n                  פרטים נוספים\n                </PrimaryButton>\n                <ContainedPrimaryButton\n                  size=\"small\"\n                  onClick={() => openProposeScreen?.(business)}\n                >\n                  יש לי מה להוסיף!\n                </ContainedPrimaryButton>\n              </Fragment>\n            )}\n          />\n        )\n      ) : (\n        <Box mt={2} />\n      )}\n      <FocusedBusinessDialog\n        open={isFocusedBusinessDialogOpen}\n        onClose={handleFocusedBusinessDialogClose}\n        focusedBusiness={focusedBusiness}\n        openProposeScreen={openProposeScreen}\n      />\n      <LoadingBackdrop\n        open={isLoadingBackdropOpen}\n        text=\"מחפש.ת מענים מתאימים...\"\n      />\n    </Fragment>\n  );\n}\n\nexport default SearchContainer;\n","export default __webpack_public_path__ + \"static/media/EmptyState.e5821452.svg\";","import React from \"react\";\nimport { Box, makeStyles, Typography } from \"@material-ui/core\";\nimport emptyStateSvg from \"../img/EmptyState.svg\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    position: \"relative\",\n  },\n  image: {\n    maxHeight: \"16rem\",\n    width: \"60%\",\n  },\n  text: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst SearchEmptyState = () => {\n  const classes = useStyles();\n\n  return (\n    <Box my={4} className={classes.root}>\n      <img src={emptyStateSvg} alt=\"\" className={classes.image} />\n      <Typography variant=\"h6\" align=\"center\" className={classes.text}>\n        לא נמצאו מענים מתאימים\n      </Typography>\n    </Box>\n  );\n};\n\nexport default SearchEmptyState;\n","import React from \"react\";\nimport {\n  CircularProgress,\n  makeStyles,\n  CircularProgressProps,\n} from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  \"@keyframes MultiColorProgressSpinner\": {\n    \"0%\": {\n      color: \"rgb(245,172,202)\",\n    },\n    \"33.29%\": {\n      color: \"rgb(245,172,202)\",\n    },\n    \"33.31%\": {\n      color: \"rgb(255,255,255)\",\n    },\n    \"66.59%\": {\n      color: \"rgb(255,255,255)\",\n    },\n    \"66.61%\": {\n      color: \"rgb(107,175,225)\",\n    },\n    \"100%\": {\n      color: \"rgb(107,175,225)\",\n    },\n  },\n  circularProgress: {\n    \"& .MuiCircularProgress-svg\": {\n      animation: \"$MultiColorProgressSpinner 4.2s ease-in-out infinite\", // 1.4s per spin * 3 spins\n    },\n  },\n});\n\nconst MultiColorProgressSpinner = (props: CircularProgressProps) => {\n  const classes = useStyles();\n  return (\n    <CircularProgress\n      {...props}\n      thickness={props.thickness || 5}\n      className={classes.circularProgress}\n    />\n  );\n};\n\nexport default MultiColorProgressSpinner;\n","import React from \"react\";\nimport {\n  makeStyles,\n  Backdrop,\n  Typography,\n  Box,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport MultiColorProgressSpinner from \"./MultiColorProgressSpinner\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    \"@supports (backdrop-filter: blur(0.5rem) brightness(25%))\": {\n      backdropFilter: \"blur(0.5rem) brightness(25%)\",\n      backgroundColor: \"rgba(0,0,0,0)\",\n    },\n  },\n  loadingTitle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    fontSize: \"1.5rem\",\n    marginLeft: theme.spacing(1),\n    [theme.breakpoints.down(\"xs\")]: {\n      fontSize: \"1rem\",\n      marginLeft: 0,\n      marginTop: theme.spacing(1.5),\n    },\n  },\n}));\n\ninterface LoadingBackdropProps {\n  open: boolean;\n  text?: string;\n}\n\nconst LoadingBackdrop = ({ open, text }: LoadingBackdropProps) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const isSmallScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  return (\n    <Backdrop className={classes.backdrop} open={open}>\n      <Box\n        display=\"flex\"\n        alignItems=\"center\"\n        flexDirection={isSmallScreen ? \"column\" : \"row\"}\n      >\n        <MultiColorProgressSpinner\n          size={text ? \"1.5rem\" : isSmallScreen ? \"7vw\" : \"2rem\"}\n          thickness={text ? 6 : 5}\n        />\n        {text && (\n          <Typography className={classes.loadingTitle}>{text}</Typography>\n        )}\n      </Box>\n    </Backdrop>\n  );\n};\n\nexport default LoadingBackdrop;\n","export default __webpack_public_path__ + \"static/media/GoogleIcon.e783388b.svg\";","export default __webpack_public_path__ + \"static/media/FacebookIcon.e2f2225b.svg\";","export default class User {\n  name: string;\n  email: string;\n\n  constructor(name: string | null, email: string | null) {\n    this.name = name ?? \"\";\n    this.email = email ?? \"\";\n  }\n\n  get isStaff(): boolean {\n    return this.email?.endsWith(\"maavarim.org\");\n  }\n}\n","import React, { Fragment, useEffect } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogContent,\n  Box,\n  ButtonProps,\n} from \"@material-ui/core\";\nimport GoogleIcon from \"../img/GoogleIcon.svg\";\nimport FacebookIcon from \"../img/FacebookIcon.svg\";\nimport {\n  signInWithGoogle,\n  signInWithFacebook,\n  checkIfAlreadyLoggedIn,\n} from \"../firebase/auth\";\nimport User from \"../types/User\";\nimport { useSnackbar } from \"notistack\";\n\ninterface LoginButtonProps extends ButtonProps {\n  onLogin: (userCredential: firebase.auth.UserCredential) => void;\n  onError: (error: any) => void;\n}\n\nconst GoogleLoginButton = ({\n  onLogin,\n  onError,\n  ...buttonProps\n}: LoginButtonProps) => (\n  <Button\n    {...buttonProps}\n    variant=\"contained\"\n    style={{ width: \"100%\", fontWeight: 600, background: \"white\" }}\n    onClick={() => {\n      signInWithGoogle()\n        .then((u) => {\n          onLogin(u);\n        })\n        .catch((e) => {\n          onError(e);\n        });\n    }}\n  >\n    <Box display=\"flex\" alignItems=\"center\" py={0.5}>\n      <Box mr={1} display=\"flex\" alignItems=\"center\">\n        <img src={GoogleIcon} alt=\"Google\" style={{ height: \"1em\" }} />\n      </Box>\n      רוצה להתחבר עם Google\n    </Box>\n  </Button>\n);\n\nconst FacebookLoginButton = ({\n  onLogin,\n  onError,\n  ...buttonProps\n}: LoginButtonProps) => (\n  <Button\n    {...buttonProps}\n    variant=\"contained\"\n    style={{\n      width: \"100%\",\n      fontWeight: 600,\n      background: \"#4267b2\",\n      color: \"white\",\n    }}\n    onClick={() => signInWithFacebook().then(onLogin).catch(onError)}\n  >\n    <Box display=\"flex\" alignItems=\"center\" py={0.5}>\n      <Box mr={1} display=\"flex\" alignItems=\"center\">\n        <img src={FacebookIcon} alt=\"Facebook\" style={{ height: \"1.5em\" }} />\n      </Box>\n      האמת, בא לי Facebook\n    </Box>\n  </Button>\n);\n\ninterface LoginDialogProps {\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  setLoggedInUser: (loggedInUser: User) => void;\n}\n\nconst ErrorSnackbarContent = () => (\n  <Fragment>\n    נתקלנו בשגיאה בנסיון ההתחברות.\n    <br />\n    נסו להתחבר בדרך אחרת, חכו קצת, או פנו אלינו לתמיכה ✨\n  </Fragment>\n);\n\nexport default function LoginDialog({\n  open,\n  setOpen,\n  setLoggedInUser,\n}: LoginDialogProps) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleError = (error: any) => {\n    console.error(error);\n    enqueueSnackbar(<ErrorSnackbarContent />, {\n      variant: \"error\",\n    });\n  };\n\n  const onLogin = (user: firebase.User) => {\n    const { displayName, email } = user;\n    const loggedInUser = new User(displayName, email);\n\n    enqueueSnackbar(\"ברוכים הבאות!\", {\n      variant: \"success\",\n    });\n    setLoggedInUser(loggedInUser);\n    setOpen(false);\n  };\n\n  const handleUserCredential = (\n    userCredential: firebase.auth.UserCredential\n  ) => {\n    if (userCredential.user === null) {\n      enqueueSnackbar(<ErrorSnackbarContent />, {\n        variant: \"error\",\n      });\n      return;\n    }\n    onLogin(userCredential.user);\n  };\n\n  useEffect(() => {\n    // We can't use `onLogin` as it's re-created every render\n    checkIfAlreadyLoggedIn().then((user: firebase.User) => {\n      const { displayName, email } = user;\n      const loggedInUser = new User(displayName, email);\n\n      setLoggedInUser(loggedInUser);\n      setOpen(false);\n    });\n  }, [setLoggedInUser, setOpen]);\n\n  return (\n    <Fragment>\n      <Dialog\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogContent style={{ padding: \"0\", backgroundColor: \"#dcdcdc\" }}>\n          <Box p={3}>\n            <Box display=\"flex\" justifyContent=\"stretch\">\n              <GoogleLoginButton\n                onLogin={handleUserCredential}\n                onError={handleError}\n              />\n            </Box>\n            <Box mt={2} display=\"flex\" justifyContent=\"stretch\">\n              <FacebookLoginButton\n                onLogin={handleUserCredential}\n                onError={handleError}\n              />\n            </Box>\n          </Box>\n        </DialogContent>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import User from \"./User\";\nimport { ReviewContent } from \"./Review\";\nimport Business, { ServerBusiness } from \"./Business\";\n\nexport enum BusinessProposalType {\n  useExisting = \"useExisting\",\n  alterExisting = \"alterExisting\",\n  createNew = \"createNew\",\n}\n\nexport type BusinessProposal =\n  | {\n      type: BusinessProposalType.createNew;\n      business: Business;\n    }\n  | {\n      type: BusinessProposalType.useExisting;\n      existingBusiness: ServerBusiness;\n    }\n  | {\n      type: BusinessProposalType.alterExisting;\n      existingBusiness: ServerBusiness;\n      business: Business;\n    };\n\nexport type Proposal = {\n  author: User | null;\n  isAnonymous: boolean;\n  business: BusinessProposal;\n  review: ReviewContent;\n};\n\nexport type StoredProposal = Proposal & { id: number; createdAt?: any };\n","export default __webpack_public_path__ + \"static/media/CircuitBoard.f9dc64be.svg\";","import React, { useState, Fragment } from \"react\";\nimport {\n  Box,\n  TextField,\n  InputAdornment,\n  makeStyles,\n  Button,\n  useMediaQuery,\n  useTheme,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport { AccountCircleTwoTone } from \"@material-ui/icons\";\nimport server from \"../../server\";\nimport { ContainedPrimaryButton } from \"../../components/StyledButtons\";\nimport { isBlankOrEmpty } from \"../../utils/String\";\nimport { ServerBusiness } from \"../../types/Business\";\nimport BusinessesContainer from \"../../components/BusinessesContainer\";\nimport LoadingBackdrop from \"../../components/LoadingBackdrop\";\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    flexGrow: 1,\n    \"& .MuiFilledInput-root\": {\n      borderTopRightRadius: 0,\n    },\n  },\n  button: {\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n  resultsContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: 0,\n    overflowX: \"scroll\",\n    paddingRight: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    \"& .MuiCard-root\": {\n      minWidth: \"40%\",\n      marginLeft: theme.spacing(1),\n    },\n    \"&::after\": {\n      content: \"''\",\n      minWidth: theme.spacing(1),\n      height: \"1px\",\n    },\n  },\n  suggestionsContainerExtendedWidth: {\n    width: theme.breakpoints.values.sm + 60,\n    position: \"relative\",\n    left:\n      -theme.spacing(3) + // padding-start of the containing card\n      (-24 * 2 - // horizontal padding of the main container\n        60) / // this.width - containingCard.width\n        2,\n  },\n}));\n\nexport enum Step1ResultType {\n  useExisting,\n  createNew,\n}\n\ntype Step1Result =\n  | {\n      type: Step1ResultType.useExisting;\n      business: ServerBusiness;\n    }\n  | {\n      type: Step1ResultType.createNew;\n      businessName: string;\n    };\n\ninterface Step1Props {\n  onResult: (result: Step1Result) => void;\n}\n\nconst Step1 = ({ onResult }: Step1Props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const [businessName, setBusinessName] = useState(\"\");\n  const [suggestions, setSuggestions] = useState<ServerBusiness[] | null>(null);\n\n  const resultsShouldOverflowContainer =\n    useMediaQuery(theme.breakpoints.up(\"sm\")) &&\n    suggestions &&\n    suggestions.length > 2;\n\n  const [isLoadingBackdropOpen, setIsLoadingBackdropOpen] = useState(false);\n  const fetchSuggestions = () => {\n    const searchQuery = {\n      freeText: businessName,\n      attributes: {},\n    };\n\n    const showBackdropTimeout = setTimeout(() => {\n      setIsLoadingBackdropOpen(true);\n    }, 1000);\n\n    server\n      .fetchBusinesses(searchQuery)\n      .then((suggestions) => {\n        if (suggestions.length === 0)\n          onResult({\n            type: Step1ResultType.createNew,\n            businessName,\n          });\n        else setSuggestions(suggestions);\n      })\n      .catch((e) => {\n        onResult({\n          type: Step1ResultType.createNew,\n          businessName,\n        });\n        console.error(e);\n      })\n      .finally(() => {\n        clearTimeout(showBackdropTimeout);\n        setIsLoadingBackdropOpen(false);\n      });\n  };\n\n  return (\n    <Box>\n      <Box mb={1}>\n        <Typography variant=\"body1\">\n          מה השם של נותן.ת השירות?\n        </Typography>\n      </Box>\n      <Box display=\"flex\" mb={2}>\n        <TextField\n          fullWidth\n          label=\"שם\"\n          value={businessName}\n          className={classes.textField}\n          onChange={(event) => setBusinessName(event.target.value)}\n          color=\"secondary\"\n          variant=\"filled\"\n          placeholder=\"ישראל ישראלית\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <AccountCircleTwoTone />\n              </InputAdornment>\n            ),\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          className={classes.button}\n          disableElevation\n          onClick={fetchSuggestions}\n          disabled={isBlankOrEmpty(businessName)}\n        >\n          הבא\n        </Button>\n      </Box>\n\n      {suggestions && (\n        <Fragment>\n          <Box mt={3}>\n            <Typography variant=\"body1\">\n              {suggestions.length > 1\n                ? \"יכול להיות שמה שחיפשת זה את אחד מהמקומות האלה?\"\n                : \"יכול להיות שזה אותו המקום?\"}\n            </Typography>\n          </Box>\n          <Paper\n            className={\n              resultsShouldOverflowContainer\n                ? classes.suggestionsContainerExtendedWidth\n                : \"\"\n            }\n            elevation={resultsShouldOverflowContainer ? 1 : 0}\n          >\n            <BusinessesContainer\n              businesses={suggestions}\n              buttons={(business) => (\n                <ContainedPrimaryButton\n                  size=\"small\"\n                  onClick={() =>\n                    onResult({\n                      type: Step1ResultType.useExisting,\n                      business,\n                    })\n                  }\n                >\n                  כן, זה אותו המקום!\n                </ContainedPrimaryButton>\n              )}\n              containerProps={{ className: classes.resultsContainer }}\n              disableElevation\n            />\n          </Paper>\n          <Box mt={3} mb={2}>\n            <ContainedPrimaryButton\n              onClick={() =>\n                onResult({\n                  type: Step1ResultType.createNew,\n                  businessName,\n                })\n              }\n              fullWidth\n              variant=\"contained\"\n            >\n              האמת? לא. בואו נמשיך\n            </ContainedPrimaryButton>\n          </Box>\n        </Fragment>\n      )}\n      <LoadingBackdrop open={isLoadingBackdropOpen} />\n    </Box>\n  );\n};\n\nexport default Step1;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  Container,\n  Box,\n  makeStyles,\n  Paper,\n  Grid,\n  Typography,\n  Button,\n  Snackbar,\n} from \"@material-ui/core\";\nimport CircuitBoardPattern from \"../img/CircuitBoard.svg\";\nimport server from \"../server\";\nimport { BusinessProposalType, StoredProposal } from \"../types/Proposal\";\nimport BusinessView from \"../components/BusinessView\";\nimport { Alert } from \"@material-ui/lab\";\nimport { formatDateToDisplay } from \"../utils/Date\";\n\nconst GRADIENT =\n  \"rgba(255,255,255,1) 0%, rgba(245,172,202,.3) 50%, rgba(107,175,225,.3) 100%\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    backgroundImage: `url(${CircuitBoardPattern})`,\n  },\n  content: {\n    position: \"relative\",\n    background: \"white\",\n    minHeight: \"100vh\",\n    [theme.breakpoints.up(\"md\")]: {\n      \"&::before, &::after\": {\n        content: \"''\",\n        position: \"absolute\",\n        height: \"100%\",\n        width: `calc(50vw - ${theme.breakpoints.values.md / 2}px)`,\n        top: 0,\n      },\n      \"&::before\": {\n        background: `linear-gradient(90deg, ${GRADIENT})`,\n        right: \"100%\",\n      },\n      \"&::after\": {\n        background: `linear-gradient(270deg, ${GRADIENT})`,\n        left: \"100%\",\n      },\n    },\n  },\n  appBarMargin: theme.mixins.toolbar,\n  proposal: {\n    marginTop: theme.spacing(1),\n    padding: theme.spacing(2),\n  },\n}));\n\nconst AdminPanel = () => {\n  const classes = useStyles();\n\n  const [isErrorSnackBarOpened, setIsErrorSnackBarOpened] = useState(false);\n  const [isSuccessSnackBarOpened, setIsSuccessSnackBarOpened] = useState(false);\n\n  const [openProposals, setOpenProposals] = useState<StoredProposal[] | null>();\n\n  const refreshProposals = useCallback(() => {\n    server.getAllOpenProposals().then(setOpenProposals);\n  }, []);\n\n  useEffect(refreshProposals, [refreshProposals]);\n\n  const accept = (proposalId: number) => {\n    server\n      .acceptProposal(proposalId)\n      .then(() => {\n        setIsSuccessSnackBarOpened(true);\n      })\n      .catch(() => {\n        setIsErrorSnackBarOpened(true);\n      })\n      .finally(() => refreshProposals());\n  };\n  const decline = (proposalId: number) => {\n    server\n      .declineProposal(proposalId)\n      .then(() => {\n        setIsSuccessSnackBarOpened(true);\n      })\n      .catch(() => {\n        setIsErrorSnackBarOpened(true);\n      })\n      .finally(() => refreshProposals());\n  };\n\n  return (\n    <Container className={classes.container}>\n      <Container maxWidth=\"md\" className={classes.content}>\n        <div className={classes.appBarMargin}></div>\n        <Box pt={2}>\n          {openProposals &&\n            openProposals.map((proposal, index) => (\n              <Paper key={index} className={classes.proposal}>\n                <Typography variant=\"body1\">\n                  <b>\n                    {proposal.isAnonymous\n                      ? \"משתמש.ת אנונימי.ת\"\n                      : `${proposal.author!.name} (${proposal.author!.email})`}\n                  </b>{\" \"}\n                  הציע.ה\n                  {proposal.createdAt\n                    ? ` ב-${formatDateToDisplay(proposal.createdAt)}`\n                    : \"\"}\n                  :\n                </Typography>\n                {proposal.business.type ===\n                BusinessProposalType.alterExisting ? (\n                  <Grid container>\n                    <Grid item xs={12} sm={6}>\n                      <Typography variant=\"body1\">\n                        לערוך את פרטי נותן.ת השירות הזה:\n                      </Typography>\n                      <BusinessView\n                        detailed\n                        business={proposal.business.existingBusiness}\n                        rating={false}\n                      />\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                      <Typography variant=\"body1\">לפרטים הבאים:</Typography>\n                      <BusinessView\n                        detailed\n                        business={proposal.business.business}\n                        rating={false}\n                      />\n                    </Grid>\n                  </Grid>\n                ) : proposal.business.type ===\n                  BusinessProposalType.createNew ? (\n                  <Box>\n                    <Typography variant=\"body1\">להוסיף את נותן.ת השירות:</Typography>\n                    <BusinessView\n                      detailed\n                      business={proposal.business.business}\n                      rating={false}\n                    />\n                  </Box>\n                ) : null}\n                <Box mt={1} display=\"flex\" justifyContent=\"space-between\">\n                  <Button\n                    variant=\"outlined\"\n                    onClick={() => decline(proposal.id)}\n                  >\n                    סירוב\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => accept(proposal.id)}\n                  >\n                    אישור\n                  </Button>\n                </Box>\n              </Paper>\n            ))}\n        </Box>\n      </Container>\n      <Snackbar\n        open={isSuccessSnackBarOpened}\n        autoHideDuration={6000}\n        onClose={() => setIsSuccessSnackBarOpened(false)}\n      >\n        <Alert onClose={() => setIsSuccessSnackBarOpened(false)}>\n          הפעולה בוצעה בהצלחה\n        </Alert>\n      </Snackbar>\n      <Snackbar\n        open={isErrorSnackBarOpened}\n        autoHideDuration={6000}\n        onClose={() => setIsErrorSnackBarOpened(false)}\n      >\n        <Alert onClose={() => setIsSuccessSnackBarOpened(false)}>\n          קרתה שגיאה, נסו שוב מאוחר יותר\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default AdminPanel;\n","import React from \"react\";\nimport { Dialog, IconButton } from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport AdminPanel from \"./AdminPanel\";\nimport AppBar from \"../components/AppBar\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { TransitionProps } from \"@material-ui/core/transitions\";\n\nconst Transition = React.forwardRef(function Transition(\n  props: TransitionProps & { children?: React.ReactElement },\n  ref: React.Ref<unknown>\n) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\ninterface AdminDialogPanelProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nconst AdminDialogPanel = ({ open, onClose }: AdminDialogPanelProps) => (\n  <Dialog\n    open={open}\n    onClose={onClose}\n    fullScreen\n    disableEscapeKeyDown={true}\n    TransitionComponent={Transition}\n  >\n    <AppBar\n      position=\"fixed\"\n      title=\"מעברים – חיפוש אנשי.ות מקצוע · פאנל ניהול\"\n      buttons={\n        <IconButton\n          edge=\"start\"\n          color=\"inherit\"\n          onClick={onClose}\n          aria-label=\"close\"\n        >\n          <Close />\n        </IconButton>\n      }\n    />\n    <AdminPanel />\n  </Dialog>\n);\n\nexport default AdminDialogPanel;\n","import React from \"react\";\nimport {\n  Box,\n  Typography,\n  TextField,\n  Button,\n  makeStyles,\n} from \"@material-ui/core\";\nimport Rating from \"../../components/Rating\";\nimport { ContainedPrimaryButton } from \"../../components/StyledButtons\";\n\nconst useStyles = makeStyles({\n  multilineTextFieldNoLabel: {\n    \"& .MuiFilledInput-multiline\": {\n      paddingTop: \"10px\",\n    },\n  },\n});\n\ninterface Step3Props {\n  rating: number | null;\n  setRating: (rating: number | null) => void;\n  moreDetails: string;\n  setMoreDetails: (moreDetails: string) => void;\n  handleBack: () => void;\n  handleNext: () => void;\n}\n\nconst Step3 = ({\n  rating,\n  setRating,\n  moreDetails,\n  setMoreDetails,\n  handleBack,\n  handleNext,\n}: Step3Props) => {\n  const classes = useStyles();\n\n  return (\n    <Box>\n      <Typography variant=\"body1\">\n        עוד רגע מסיימים!\n        <br />\n        איך היית מדרג.ת את החוויה הכללית אצל נותן.ת השירות?\n      </Typography>\n      <Box display=\"flex\" justifyContent=\"center\" mt={1} mb={2}>\n        <Rating\n          value={rating}\n          name=\"rating\"\n          onChange={(_, value) => setRating(value)}\n        />\n      </Box>\n\n      <Typography variant=\"body1\">\n        ובנימה אישית יותר, בא לך להוסיף כמה מילים?\n      </Typography>\n      <Box mt={1}>\n        <TextField\n          className={classes.multilineTextFieldNoLabel}\n          fullWidth\n          multiline\n          rows={4}\n          variant=\"filled\"\n          value={moreDetails}\n          placeholder=\"בוודאי!\"\n          onChange={(e) => setMoreDetails(e.target.value)}\n        />\n      </Box>\n\n      <Box display=\"flex\" justifyContent=\"space-between\" mt={3}>\n        <Button variant=\"outlined\" onClick={handleBack}>\n          חזרה להוספת מידע\n        </Button>\n\n        <ContainedPrimaryButton\n          variant=\"contained\"\n          onClick={handleNext}\n          disabled={rating === null}\n        >\n          הבא\n        </ContainedPrimaryButton>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Step3;\n","import User from \"../types/User\";\nimport React, { useContext, Fragment } from \"react\";\nimport { Subtract } from \"utility-types\";\nimport LoggedInUserContext from \"../context/LoggedInUserContext\";\n\nexport interface WithAuthenticatedProps {\n  loggedInUser: User;\n}\n\nexport const requireAuthenticated = <Props extends object>(\n  Component: React.ComponentType<Props>\n): React.FC<Props> => (props: Props) => {\n  const loggedInUser = useContext(LoggedInUserContext);\n  return loggedInUser === null ? (\n    <Fragment />\n  ) : (\n    <Component {...(props as Props)} />\n  );\n};\n\nexport const withAuthenticated = <Props extends WithAuthenticatedProps>(\n  Component: React.ComponentType<Props>\n): React.FC<Subtract<Props, WithAuthenticatedProps>> => (\n  props: Subtract<Props, WithAuthenticatedProps>\n) => {\n  const loggedInUser = useContext(LoggedInUserContext);\n  return loggedInUser === null ? (\n    <Fragment />\n  ) : (\n    <Component {...(props as Props)} loggedInUser={loggedInUser} />\n  );\n};\n","import React, { Fragment, useState } from \"react\";\nimport {\n  Box,\n  Typography,\n  Button,\n  FormControlLabel,\n  Checkbox,\n} from \"@material-ui/core\";\nimport { ContainedPrimaryButton } from \"../../components/StyledButtons\";\nimport BusinessView from \"../../components/BusinessView\";\nimport {\n  Proposal,\n  BusinessProposal,\n  BusinessProposalType,\n} from \"../../types/Proposal\";\nimport User from \"../../types/User\";\nimport { withAuthenticated } from \"../../hocs/requiredAuthenticated\";\n\ninterface Step4Props {\n  businessResult: BusinessProposal;\n  rating: number;\n  moreDetails: string;\n  handleBack: () => void;\n  handleNext: () => void;\n  onResult: (proposal: Proposal) => void;\n  loggedInUser: User;\n}\n\nconst Step4 = ({\n  businessResult,\n  rating,\n  moreDetails,\n  handleBack,\n  onResult,\n  loggedInUser,\n}: Step4Props) => {\n  const [isAnonymous, setIsAnonymous] = useState(false);\n\n  const ratingText = (\n    <Fragment>\n      והדירוג שנתת הוא <b>{rating} כוכבים</b>\n      {moreDetails ? (\n        <Fragment>\n          ,\n          <br />\n          בתוספת ההערה:\n          <br /> {moreDetails}\n        </Fragment>\n      ) : (\n        \".\"\n      )}\n    </Fragment>\n  );\n\n  let changeDescription: JSX.Element;\n  switch (businessResult.type) {\n    case BusinessProposalType.createNew:\n      changeDescription = (\n        <Fragment>\n          <Typography>זה המענה שרצית להוסיף:</Typography>\n          <BusinessView\n            business={businessResult.business}\n            rating={false}\n            detailed\n          />\n        </Fragment>\n      );\n      break;\n    case BusinessProposalType.useExisting:\n      changeDescription = (\n        <Fragment>\n          <Typography>זה המענה שרצית לדרג:</Typography>\n          <BusinessView\n            business={businessResult.existingBusiness}\n            rating={false}\n            detailed\n          />\n        </Fragment>\n      );\n      break;\n    case BusinessProposalType.alterExisting:\n      changeDescription = (\n        <Fragment>\n          <Typography>\n            בחרת לערוך את המידע על המענה{\" \"}\n            <b>{businessResult.existingBusiness.name}</b>, לפרטים הבאים:\n          </Typography>\n          <BusinessView\n            business={businessResult.business}\n            rating={false}\n            detailed\n          />\n        </Fragment>\n      );\n      break;\n  }\n\n  const send = () => {\n    let result: Proposal = {\n      author: loggedInUser,\n      business: businessResult,\n      isAnonymous,\n      review: {\n        rating,\n        moreDetails,\n      },\n    };\n    onResult(result);\n  };\n\n  return (\n    <Fragment>\n      <Box>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={isAnonymous}\n              onChange={(e) => setIsAnonymous(e.target.checked)}\n            />\n          }\n          label=\"שליחה אנונימית\"\n        />\n      </Box>\n      <Typography>\n        לפני שנשלח את המידע, בואו נעבור פעם אחרונה על הפרטים.\n        <br />\n        אחרי השליחה אנחנו נבחן את ההצעה שלך לשיפור המידע, ונכניס את הפרטים\n        הנכונים.&nbsp;😇\n      </Typography>\n      {changeDescription}\n      <Typography>{ratingText}</Typography>\n      <Box display=\"flex\" justifyContent=\"space-between\" mt={3}>\n        <Button variant=\"outlined\" onClick={handleBack}>\n          חזרה לדירוג\n        </Button>\n\n        <ContainedPrimaryButton variant=\"contained\" onClick={send}>\n          כן, הכל פה נכון, בואו נשלח!\n        </ContainedPrimaryButton>\n      </Box>\n    </Fragment>\n  );\n};\n\nexport default withAuthenticated(Step4);\n","import React, { Fragment, useState } from \"react\";\nimport {\n  Box,\n  makeStyles,\n  TextField,\n  InputAdornment,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport SearchFilter, { searchFilters } from \"../../searchFilters\";\nimport {\n  CallTwoTone,\n  PlaceTwoTone,\n  AccountCircleTwoTone,\n} from \"@material-ui/icons\";\nimport { setMap } from \"../../utils/Map\";\nimport BusinessView from \"../../components/BusinessView\";\nimport {\n  ContainedPrimaryButton,\n  PrimaryButton,\n} from \"../../components/StyledButtons\";\nimport { BusinessInfo, ServerBusiness } from \"../../types/Business\";\nimport { isBlankOrEmpty } from \"../../utils/String\";\nimport { iterableSome } from \"../../utils/Array\";\nimport User from \"../../types/User\";\nimport {\n  WithAuthenticatedProps,\n  withAuthenticated,\n} from \"../../hocs/requiredAuthenticated\";\nimport { BusinessProposal, BusinessProposalType } from \"../../types/Proposal\";\n\nconst useStyles = makeStyles((theme) => ({\n  fieldsContainer: {\n    width: \"calc(100% + 16px)\",\n    \"& .MuiFormControl-root\": {\n      width: \"100%\",\n    },\n  },\n  dualColumnGrid: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n  nameTextField: {\n    gridRow: 1,\n    gridColumn: \"1 / -1\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridColumn: 1,\n    },\n  },\n}));\n\ninterface Step2Props extends WithAuthenticatedProps {\n  loggedInUser: User;\n  name: string | null;\n  existingBusiness: ServerBusiness | null;\n  onResult: (business: BusinessProposal) => void;\n  handleBack: () => void;\n}\n\nconst Step2 = ({\n  loggedInUser,\n  name,\n  existingBusiness,\n  onResult,\n  handleBack,\n}: Step2Props) => {\n  const classes = useStyles();\n\n  const [location, setLocation] = useState(\n    (existingBusiness?.info.locations.length ?? 0) > 0\n      ? existingBusiness!.info.locations[0]\n      : \"\"\n  );\n  const [phoneNumber, setPhoneNumber] = useState(\n    (existingBusiness?.info.phoneNumbers?.length ?? 0) > 0\n      ? existingBusiness!.info.phoneNumbers[0]\n      : \"\"\n  );\n  const [selectedFilters, setSelectedFilters] = useState<Map<string, string[]>>(\n    new Map(\n      searchFilters.map((searchFilter) => [\n        searchFilter.filterKey,\n        existingBusiness\n          ? Object.entries(existingBusiness.info).find(\n              ([filterName]) => filterName === searchFilter.filterKey\n            )?.[1] ?? []\n          : [],\n      ])\n    )\n  );\n\n  const [editMode, setEditMode] = useState(existingBusiness === null);\n  const isInvalidRecommendation =\n    ((name === null || isBlankOrEmpty(name)) &&\n      (existingBusiness === null ||\n        existingBusiness.name === null ||\n        isBlankOrEmpty(existingBusiness.name))) ||\n    iterableSome(\n      selectedFilters.entries(),\n      ([_, selectedOptions]) => selectedOptions.length === 0\n    );\n\n  const handleNextClick = () => {\n    if (isInvalidRecommendation) return;\n\n    const businessInfo = ({\n      phoneNumbers: [phoneNumber],\n      locations: [{ address: location }],\n\n      ...Object.fromEntries(selectedFilters.entries()),\n    } as unknown) as BusinessInfo;\n\n    onResult(\n      existingBusiness === null\n        ? {\n            type: BusinessProposalType.createNew,\n            business: {\n              name: name || \"\",\n              info: businessInfo,\n            },\n          }\n        : {\n            type: BusinessProposalType.alterExisting,\n            existingBusiness,\n            business: {\n              name: existingBusiness.name,\n              info: businessInfo,\n            },\n          }\n    );\n  };\n\n  return (\n    <Fragment>\n      {existingBusiness !== null && !editMode && (\n        <Fragment>\n          <Typography variant=\"body1\">הפרטים הבאים נכונים?</Typography>\n          <BusinessView rating={false} detailed business={existingBusiness} />\n          <Box className={classes.dualColumnGrid} mt={1}>\n            <PrimaryButton variant=\"outlined\" onClick={() => setEditMode(true)}>\n              לא, אני רוצה לערוך אותם\n            </PrimaryButton>\n            <ContainedPrimaryButton\n              variant=\"outlined\"\n              onClick={() =>\n                onResult({\n                  type: BusinessProposalType.useExisting,\n                  existingBusiness,\n                })\n              }\n            >\n              כן, הם נכונים\n            </ContainedPrimaryButton>\n          </Box>\n        </Fragment>\n      )}\n\n      {(existingBusiness === null || editMode) && (\n        <Fragment>\n          <Box mt={1} mb={1}>\n            <Typography variant=\"h6\">פרטים כלליים</Typography>\n          </Box>\n          <Box className={classes.dualColumnGrid}>\n            <TextField\n              fullWidth\n              label=\"שם\"\n              value={existingBusiness?.name ?? name ?? \"\"}\n              className={classes.nameTextField}\n              color=\"secondary\"\n              variant=\"filled\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <AccountCircleTwoTone />\n                  </InputAdornment>\n                ),\n                readOnly: true,\n              }}\n            />\n            <TextField\n              fullWidth\n              label=\"טלפון\"\n              value={phoneNumber}\n              onChange={(event) => setPhoneNumber(event.target.value)}\n              color=\"secondary\"\n              variant=\"filled\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <CallTwoTone />\n                  </InputAdornment>\n                ),\n                readOnly: !editMode,\n              }}\n            />\n            <TextField\n              fullWidth\n              label=\"כתובת\"\n              value={location}\n              onChange={(event) => setLocation(event.target.value)}\n              variant=\"filled\"\n              color=\"secondary\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <PlaceTwoTone />\n                  </InputAdornment>\n                ),\n                readOnly: !editMode,\n              }}\n            />\n          </Box>\n\n          <Box mt={2} mb={1}>\n            <Typography variant=\"h6\">תגיות למיניהן</Typography>\n          </Box>\n          <Box className={classes.dualColumnGrid}>\n            {searchFilters.map((searchFilter: SearchFilter) => (\n              <searchFilter.render\n                key={searchFilter.filterKey}\n                value={selectedFilters.get(searchFilter.filterKey) ?? []}\n                selectProps={{\n                  readOnly: !editMode,\n                }}\n                onChange={(selectedOptions) =>\n                  setSelectedFilters(\n                    setMap(\n                      selectedFilters,\n                      searchFilter.filterKey,\n                      selectedOptions\n                    )\n                  )\n                }\n              />\n            ))}\n          </Box>\n          <Box display=\"flex\" justifyContent=\"space-between\" mt={3}>\n            <Button variant=\"outlined\" onClick={handleBack}>\n              חזרה לבחירת שם\n            </Button>\n\n            <ContainedPrimaryButton\n              variant=\"contained\"\n              onClick={handleNextClick}\n              disabled={isInvalidRecommendation}\n            >\n              הבא\n            </ContainedPrimaryButton>\n          </Box>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default withAuthenticated(Step2);\n","export const setMap = <K, V>(map: Map<K, V>, key: K, value: V) => {\n  const newMap = new Map(map);\n  newMap.set(key, value);\n  return newMap;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Button, ButtonProps } from \"@material-ui/core\";\nimport { DateTime } from \"luxon\";\n\ntype CountdownButtonProps = {\n  enablingTime: DateTime;\n};\n\nconst CountdownButton = ({\n  enablingTime,\n  children,\n  ...buttonProps\n}: CountdownButtonProps & ButtonProps) => {\n  const [currentTime, setCurrentTime] = useState(DateTime.local());\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(DateTime.local());\n    }, 500);\n    return () => clearInterval(interval);\n  });\n\n  const leftSeconds = enablingTime.diff(currentTime).get(\"seconds\");\n\n  return (\n    <Button {...buttonProps} disabled={leftSeconds > 0}>\n      {leftSeconds > 0 ? `עוד ${leftSeconds} שניות...` : children}\n    </Button>\n  );\n};\n\nexport default CountdownButton;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogContent,\n  DialogContentText,\n  Typography,\n} from \"@material-ui/core\";\n\nconst pushState = () => {\n  window.history.pushState({ withinAskBeforeExit: true }, \"\", \"\");\n};\n\nexport const askBeforeExit = <Props extends {}>(\n  Component: React.ComponentType<Props>\n): React.FC<Props> => (props: Props) => {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  useEffect(pushState, []);\n  useEffect(() => {\n    if (isDialogOpen) {\n      return;\n    }\n\n    const handlePopState = () => {\n      setIsDialogOpen(true);\n    };\n    window.addEventListener(\"popstate\", handlePopState);\n    return () => window.removeEventListener(\"popstate\", handlePopState);\n  }, [isDialogOpen]);\n\n  const onChooseStay = () => {\n    pushState();\n    setIsDialogOpen(false);\n  };\n  const onChooseExit = () => {\n    window.history.back();\n  };\n\n  return (\n    <>\n      <Component {...(props as Props)} />\n      <Dialog\n        onClose={() => setIsDialogOpen(false)}\n        open={isDialogOpen}\n        onBackdropClick={onChooseStay}\n      >\n        <DialogContent>\n          <Typography>באמת רוצה לצאת?</Typography>\n          <DialogContentText id=\"alert-dialog-description\">\n            שמנו לב שבאת להוסיף חוות דעת או מידע על נותן.ת שירות.\n            <br />\n            אז בשביל להציל את כל העבודה הקשה שהשקעת פה (כבר נכנסת לחלון ואולי\n            אפילו מילאת כמה פרטים!), אנחנו רק מוודאים.ות:\n            <br />\n            באמת רוצה לצאת?\n          </DialogContentText>\n        </DialogContent>\n        <Box display=\"flex\" justifyContent=\"space-between\" px={3} pb={2}>\n          <Button onClick={onChooseStay} variant=\"contained\" color=\"primary\">\n            אופסי, לא!\n          </Button>\n          <Button onClick={onChooseExit} variant=\"outlined\" autoFocus>\n            כן נו, באמת באמת\n          </Button>\n        </Box>\n      </Dialog>\n    </>\n  );\n};\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Card,\n  CardContent,\n  Typography,\n  Stepper,\n  Step,\n  StepLabel,\n} from \"@material-ui/core\";\nimport Step1, { Step1ResultType } from \"./Step1\";\nimport Step3 from \"./Step3\";\nimport Step4 from \"./Step4\";\nimport { ServerBusiness } from \"../../types/Business\";\nimport { requireAuthenticated } from \"../../hocs/requiredAuthenticated\";\nimport { Proposal, BusinessProposal } from \"../../types/Proposal\";\nimport Step2 from \"./Step2\";\nimport server from \"../../server\";\nimport LoadingBackdrop from \"../../components/LoadingBackdrop\";\nimport CountdownButton from \"../../components/CountdownButton\";\nimport { askBeforeExit } from \"../../hocs/askBeforeExit\";\nimport { DateTime } from \"luxon\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n    actionsContainer: {\n      marginBottom: theme.spacing(2),\n    },\n    resetContainer: {\n      padding: theme.spacing(3),\n    },\n  })\n);\n\nfunction getSteps() {\n  return [\"שם נותן.ת השירות\", \"פרטים נוספים\", \"דירוג\", \"אישור ושליחה\"];\n}\n\nconst steps = getSteps();\n\ntype ProposeScreenProps = {\n  selectedBusiness: ServerBusiness | null;\n};\n\nconst ProposeScreen = ({ selectedBusiness }: ProposeScreenProps) => {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(selectedBusiness ? 1 : 0);\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  // Step 1 result\n  const [businessName, setBusinessName] = useState<string | null>(\n    selectedBusiness ? selectedBusiness.name : null\n  );\n  const [\n    existingBusiness,\n    setExistingBusiness,\n  ] = useState<ServerBusiness | null>(selectedBusiness);\n\n  // Step 2 result\n  const [\n    businessResult,\n    setBusinessProposal,\n  ] = useState<BusinessProposal | null>(null);\n\n  // Step 3 result\n  const [rating, setRating] = useState<number | null>(null);\n  const [moreDetails, setMoreDetails] = useState<string>(\"\");\n\n  const [sent, setSent] = useState(false);\n  const [sentSuccessfully, setSentSuccessfully] = useState(false);\n  const [errorInfo, setErrorInfo] = useState<{\n    proposal: Proposal;\n    timestamp: DateTime;\n  } | null>(null);\n\n  const [isLoadingBackdropOpen, setIsLoadingBackdropOpen] = useState(false);\n  const send = (proposal: Proposal) => {\n    const showBackdropTimeout = setTimeout(() => {\n      setIsLoadingBackdropOpen(true);\n    }, 500);\n\n    server\n      .propose(proposal)\n      .then(() => {\n        setSentSuccessfully(true);\n        setSent(true);\n      })\n      .catch(() => {\n        setErrorInfo({ proposal, timestamp: DateTime.local() });\n        setSentSuccessfully(false);\n        setSent(true);\n      })\n      .finally(() => {\n        setActiveStep(4);\n        clearTimeout(showBackdropTimeout);\n        setIsLoadingBackdropOpen(false);\n      });\n  };\n\n  return (\n    <Fragment>\n      <Card style={{ overflow: \"visible\" }}>\n        <CardContent style={{ padding: 0 }}>\n          <Box p={3}>\n            <div className={classes.root}>\n              {activeStep < steps.length && (\n                <Box mb={2}>\n                  <Typography variant=\"h5\" color=\"textPrimary\">\n                    הוספת מידע - {steps[activeStep]}\n                  </Typography>\n                </Box>\n              )}\n              <Box>\n                {activeStep === 0 && (\n                  <Step1\n                    onResult={(result) => {\n                      switch (result.type) {\n                        case Step1ResultType.createNew:\n                          setBusinessName(result.businessName);\n                          return handleNext();\n                        case Step1ResultType.useExisting:\n                          setExistingBusiness(result.business);\n                          return handleNext();\n                      }\n                    }}\n                  />\n                )}\n                {activeStep === 1 && (\n                  <Step2\n                    name={businessName}\n                    existingBusiness={existingBusiness}\n                    handleBack={handleBack}\n                    onResult={(result) => {\n                      setBusinessProposal(result);\n                      handleNext();\n                    }}\n                  />\n                )}\n                {activeStep === 2 && (\n                  <Step3\n                    rating={rating}\n                    setRating={setRating}\n                    moreDetails={moreDetails}\n                    setMoreDetails={setMoreDetails}\n                    handleBack={handleBack}\n                    handleNext={handleNext}\n                  />\n                )}\n                {activeStep === 3 &&\n                  businessResult !== null &&\n                  rating !== null && (\n                    <Step4\n                      businessResult={businessResult}\n                      rating={rating}\n                      moreDetails={moreDetails}\n                      handleBack={handleBack}\n                      handleNext={handleNext}\n                      onResult={(proposal) => {\n                        send(proposal);\n                      }}\n                    />\n                  )}\n                {sent &&\n                  (sentSuccessfully ? (\n                    <Box mb={2}>\n                      <Typography variant=\"h5\" color=\"textPrimary\" gutterBottom>\n                        תודה שתרמת למאגר שלנו!\n                      </Typography>\n                      <Typography>\n                        צוות מעברים יבחן את ההצעה שלך ויוסיף אותה בקרוב.&nbsp;\n                        <span role=\"img\" aria-label=\"לב ירוק\">\n                          💚\n                        </span>\n                      </Typography>\n                    </Box>\n                  ) : (\n                    <>\n                      <Box mb={2}>\n                        <Typography\n                          variant=\"h5\"\n                          color=\"textPrimary\"\n                          gutterBottom\n                        >\n                          קרתה שגיאה{\" \"}\n                          <span role=\"img\" aria-label=\"פרצוף עצוב\">\n                            😔\n                          </span>\n                        </Typography>\n                        <Typography>\n                          בד״כ שגיאות כאלה קורות בגלל בעיה רגעית.\n                          <br />\n                          ההמלצה שלנו היא לחכות חצי דקה ולנסות לשלוח שוב.\n                          <br />\n                          אם השגיאה ממשיכה לקרות, אתם.ן יותר ממוזמנות.ים לפנות\n                          אלינו דרך ״תמיכה״.\n                        </Typography>\n                      </Box>\n                      {errorInfo && (\n                        <Box mb={1} display=\"flex\" justifyContent=\"center\">\n                          <CountdownButton\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={() => send(errorInfo.proposal)}\n                            enablingTime={errorInfo.timestamp.plus({\n                              seconds: 30,\n                            })}\n                          >\n                            נסו שוב\n                          </CountdownButton>\n                        </Box>\n                      )}\n                    </>\n                  ))}\n              </Box>\n              <Stepper activeStep={activeStep} alternativeLabel>\n                {steps.map((label) => (\n                  <Step key={label}>\n                    <StepLabel>{label}</StepLabel>\n                  </Step>\n                ))}\n              </Stepper>\n            </div>\n          </Box>\n        </CardContent>\n      </Card>\n      <LoadingBackdrop open={isLoadingBackdropOpen} />\n    </Fragment>\n  );\n};\n\nexport default requireAuthenticated(askBeforeExit(ProposeScreen));\n","import React from \"react\";\nimport { Box, makeStyles, Typography } from \"@material-ui/core\";\nimport { DateTime } from \"luxon\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    top: \"auto\",\n    bottom: 0,\n  },\n}));\n\nconst Footer = () => {\n  const classes = useStyles();\n  return (\n    <Box\n      className={classes.root}\n      mt={2}\n      py={2}\n      display=\"flex\"\n      justifyContent=\"center\"\n    >\n      <Typography variant=\"caption\" align=\"center\">\n        © מעברים, {DateTime.local().year}\n      </Typography>\n    </Box>\n  );\n};\n\nexport default Footer;\n","import React, { useCallback, useRef, useState } from \"react\";\nimport {\n  CssBaseline,\n  Collapse,\n  useTheme,\n  Fade,\n  Container,\n} from \"@material-ui/core\";\nimport Rollbar from \"rollbar\";\nimport MainAppBar from \"./components/MainAppBar\";\nimport Hero from \"./components/Hero\";\nimport SearchContainer from \"./components/SearchContainer\";\nimport LoginDialog from \"./dialogs/LoginDialog\";\nimport User from \"./types/User\";\nimport AdminDialogPanel from \"./admin\";\nimport ProposeScreen from \"./dialogs/Propose\";\nimport LoggedInUserContext from \"./context/LoggedInUserContext\";\nimport { ServerBusiness } from \"./types/Business\";\nimport ProposeActionsContext from \"./context/ProposeActionsContext\";\nimport Footer from \"./components/Footer\";\n\nconst ROLLBAR_ACCESS_TOKEN = \"5792c051f8d5480098a9522e58c680a4\";\n\nfunction App() {\n  const theme = useTheme();\n  const [loggedInUser, setLoggedInUser] = useState<User | null>(null);\n  const [isLoginDialogOpen, setIsLoginDialogOpen] = useState(false);\n  const [isProposeScreenOpen, setIsProposeScreenOpen] = useState(false);\n  const [isAdminDialogOpen, setIsAdminDialogOpen] = useState(false);\n\n  const [\n    proposeScreenSelectedBusiness,\n    setProposeScreenSelectedBusiness,\n  ] = useState<ServerBusiness | null>(null);\n  const openProposeScreen = useCallback(\n    (business?: ServerBusiness) => {\n      throw new Error(\"test2\");\n      if (loggedInUser) {\n        setProposeScreenSelectedBusiness(business || null);\n        setIsProposeScreenOpen(true);\n      } else {\n        setIsLoginDialogOpen(true);\n      }\n    },\n    [loggedInUser]\n  );\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [_rollbar] = useState(\n    new Rollbar({\n      accessToken: ROLLBAR_ACCESS_TOKEN,\n      captureUncaught: true,\n      captureUnhandledRejections: true,\n    })\n  );\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <LoggedInUserContext.Provider value={loggedInUser}>\n        <MainAppBar\n          setIsAdminDialogOpen={setIsAdminDialogOpen}\n          setIsLoginDialogOpen={setIsLoginDialogOpen}\n          setLoggedInUser={setLoggedInUser}\n          isProposeScreenOpen={isProposeScreenOpen}\n          setIsProposeScreenOpen={setIsProposeScreenOpen}\n        />\n        <ProposeActionsContext.Provider value={{ openProposeScreen }}>\n          <main>\n            <Collapse\n              in={!isProposeScreenOpen}\n              timeout={300}\n              style={{\n                transitionDelay: \"0s\",\n              }}\n            >\n              <Hero onLoginButtonClick={() => setIsLoginDialogOpen(true)} />\n            </Collapse>\n\n            {!isProposeScreenOpen && (\n              <Fade\n                in={!isProposeScreenOpen}\n                timeout={{\n                  enter: 300,\n                  exit: !isProposeScreenOpen ? 1 : 290,\n                }}\n                style={{\n                  transitionDelay: isProposeScreenOpen ? \"200ms\" : \"0s\",\n                }}\n              >\n                <Container\n                  maxWidth=\"md\"\n                  style={{\n                    position: \"relative\",\n                    marginTop: `-${theme.spacing(4)}px`,\n                  }}\n                >\n                  <SearchContainer />\n                </Container>\n              </Fade>\n            )}\n\n            {isProposeScreenOpen && (\n              <Fade\n                in={isProposeScreenOpen}\n                timeout={{\n                  enter: 300,\n                  exit: isProposeScreenOpen ? 1 : 290,\n                }}\n                style={{\n                  transitionDelay: isProposeScreenOpen ? \"200ms\" : \"0s\",\n                }}\n              >\n                <Container\n                  maxWidth=\"sm\"\n                  style={{\n                    position: \"relative\",\n                    marginTop: `${theme.spacing(3)}px`,\n                  }}\n                >\n                  <ProposeScreen\n                    selectedBusiness={proposeScreenSelectedBusiness}\n                  />\n                </Container>\n              </Fade>\n            )}\n          </main>\n          <Footer />\n        </ProposeActionsContext.Provider>\n\n        <LoginDialog\n          open={isLoginDialogOpen}\n          setOpen={setIsLoginDialogOpen}\n          setLoggedInUser={setLoggedInUser}\n        />\n        <AdminDialogPanel\n          open={isAdminDialogOpen}\n          onClose={() => setIsAdminDialogOpen(false)}\n        />\n      </LoggedInUserContext.Provider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport App from \"./App\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { heIL } from \"@material-ui/core/locale\";\nimport { create } from \"jss\";\nimport rtl from \"jss-rtl\";\nimport { StylesProvider, jssPreset } from \"@material-ui/core/styles\";\nimport { SnackbarProvider } from \"notistack\";\nimport { IconButton } from \"@material-ui/core\";\nimport { CloseTwoTone } from \"@material-ui/icons\";\n\nconst theme = createMuiTheme(\n  {\n    direction: \"rtl\",\n    palette: {\n      primary: { main: \"#342b40\" },\n      secondary: { main: \"#7b1fa2\" },\n    },\n    typography: {\n      fontFamily: [\n        \"Alef\",\n        \"-apple-system\",\n        \"BlinkMacSystemFont\",\n        '\"Segoe UI\"',\n        \"Roboto\",\n        '\"Helvetica Neue\"',\n        \"Arial\",\n        \"sans-serif\",\n        '\"Apple Color Emoji\"',\n        '\"Segoe UI Emoji\"',\n        '\"Segoe UI Symbol\"',\n      ].join(\",\"),\n      h5: {\n        fontWeight: 600,\n      },\n      button: {\n        textTransform: \"none\",\n      },\n    },\n  },\n  heIL\n);\n\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\n\ntype RTLProps = {\n  children: any;\n};\n\nconst RTL = (props: RTLProps) => {\n  return <StylesProvider jss={jss}>{props.children}</StylesProvider>;\n};\n\nconst ThemedApp = () => {\n  const notistackRef = React.createRef<SnackbarProvider>();\n  const onClickDismiss = (key: React.ReactText) => () => {\n    notistackRef.current?.closeSnackbar(key);\n  };\n\n  return (\n    <RTL>\n      <ThemeProvider theme={theme}>\n        <SnackbarProvider\n          autoHideDuration={4000}\n          hideIconVariant\n          maxSnack={2}\n          anchorOrigin={{ horizontal: \"center\", vertical: \"bottom\" }}\n          ref={notistackRef}\n          action={(key) => (\n            <IconButton onClick={onClickDismiss(key)} color=\"inherit\">\n              <CloseTwoTone />\n            </IconButton>\n          )}\n        >\n          <App />\n        </SnackbarProvider>\n      </ThemeProvider>\n    </RTL>\n  );\n};\n\nexport default ThemedApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ThemedApp from './ThemedApp';\n\nReactDOM.render(<ThemedApp />, document.getElementById('root'));\n"],"sourceRoot":""}