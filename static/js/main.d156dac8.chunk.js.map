{"version":3,"sources":["img/CircuitBoard.svg","firebase/index.ts","firebase/auth.ts","components/AppBar.tsx","context/LoggedInUserContext.ts","components/MainAppBar.tsx","img/MultiGenderHebrew/WelcomeTitle/index.tsx","context/ProposeActionsContext.ts","components/Hero.tsx","icons/HomeSearchIcon.tsx","utils/Array.ts","searchFilters/SelectBasedSearchFilter.tsx","searchFilters/profession.ts","searchFilters/index.ts","searchFilters/expertise.ts","searchFilters/area.tsx","searchFilters/healthCare.ts","searchFilters/language.ts","searchFilters/gender.ts","server/index.ts","components/StyledButtons.tsx","components/Rating.tsx","components/BusinessView.tsx","types/Business.ts","components/BusinessesContainer.tsx","img/MultiGenderHebrew/SearchTitle/index.tsx","components/FocusedBusinessDialog.tsx","components/SearchContainer.tsx","utils/Date.ts","components/SearchEmptyState.tsx","utils/String.ts","types/User.ts","dialogs/LoginDialog.tsx","types/Proposal.ts","dialogs/Propose/Step1.tsx","admin/AdminPanel.tsx","admin/index.tsx","dialogs/Propose/Step3.tsx","hocs/requiredAuthenticated.tsx","dialogs/Propose/Step4.tsx","dialogs/Propose/Step2.tsx","utils/Map.ts","dialogs/Propose/index.tsx","App.tsx","ThemedApp.tsx","index.tsx","img/Logo.jpeg","img/MultiGenderHebrew/WelcomeTitle/01.svg","img/MultiGenderHebrew/WelcomeTitle/02.svg","img/MultiGenderHebrew/WelcomeTitle/03.svg","img/MultiGenderHebrew/WelcomeTitle/04.svg","img/MultiGenderHebrew/WelcomeTitle/05.svg","img/MultiGenderHebrew/WelcomeTitle/06.svg","img/MultiGenderHebrew/WelcomeTitle/07.svg","img/MultiGenderHebrew/WelcomeTitle/08.svg","img/MultiGenderHebrew/SearchTitle/01.svg","img/MultiGenderHebrew/SearchTitle/02.svg","img/MultiGenderHebrew/SearchTitle/03.svg","img/EmptyState.svg","img/GoogleIcon.svg","img/FacebookIcon.svg"],"names":["module","exports","Collection","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","signInWith","provider","Promise","resolve","reject","auth","useDeviceLanguage","signInWithPopup","then","catch","fetchAuthenticated","input","init","currentUser","getIdToken","idToken","fetch","headers","Headers","Authorization","Error","useStyles","makeStyles","theme","appBarTitle","flexGrow","breakpoints","down","display","logoImage","height","spacer","profilePhoto","borderRadius","marginInlineEnd","spacing","AppBar","title","buttons","backButtonProps","position","classes","Toolbar","Container","maxWidth","Box","alignItems","Fade","in","undefined","IconButton","edge","color","aria-label","onClick","ChevronRightTwoTone","src","LogoJpeg","className","alt","Typography","variant","LoggedInUserContext","React","createContext","MainAppBar","setIsAdminDialogOpen","setIsLoginDialogOpen","setLoggedInUser","isProposeScreenOpen","setIsProposeScreenOpen","loggedInUser","useContext","isStaff","Button","signOut","WelcomeTitle","Svg01","Svg02","Svg03","Svg04","Svg05","Svg06","Svg07","Svg08","ProposeActionsContext","GRADIENT","container","flexDirection","background","content","padding","welcomeHeadlineContainer","margin","textAlign","marginLeft","marginBottom","cta","all","overflow","border","cursor","rightGradient","width","values","md","leftGradient","Hero","onLoginButtonClick","openProposeScreen","isLoggedIn","Paper","elevation","align","paragraph","ButtonBase","HomeSearchIcon","props","SvgIcon","opacity","fill","d","formatForDisplaying","array","join","getSelectBasedSearchFilterRenderer","fieldName","options","FormControl","formControlProps","InputLabel","id","Select","labelId","multiple","renderValue","selected","value","onChange","event","updatedSelectedOptions","target","selectProps","map","option","optionIndex","MenuItem","key","Checkbox","checked","indexOf","ListItemText","primary","getSelectBasedSearchFilter","filterKey","render","searchFilters","apiBase","get","path","params","url","URL","Object","keys","forEach","searchParams","append","href","method","post","body","Accept","JSON","stringify","proposal","a","status","json","jsonRes","proposalRaw","createdAt","Date","parse","proposalId","parseReview","review","query","attributes","business","reviews","server","propose","fetchBusinesses","getAllOpenProposals","acceptProposal","declineProposal","ContainedPrimaryButton","styled","PrimaryButton","Rating","withStyles","iconFilled","iconHover","MuiRating","precision","emptyIcon","StarBorder","fontSize","icon","StarTwoTone","Business","typography","body1","name","marginRight","lineHeight","ratingStars","ratingNumber","transform","tinyText","details","gridTemplateColumns","gridGap","buttonsContainer","buttonsContainerSpaceBetweenButtons","justifyContent","buttonsContainerFullWidthButtons","up","borderTop","BusinessView","fullWidthButtons","detailed","rating","ratingValue","length","reduce","prev","curr","averageRating","p","pb","flexWrap","mb","readOnly","Badge","badgeContent","LabelTwoTone","info","profession","BookTwoTone","expertise","MapTwoTone","area","locations","PlaceTwoTone","location","index","address","CallTwoTone","phoneNumbers","phoneNumber","TranslateTwoTone","language","SpaTwoTone","healthCare","FiberManualRecordTwoTone","gender","searchContainer","marginTop","fieldsContainer","freeTextField","gridRow","gridColumn","resultsContainer","only","BusinessesContainer","businesses","containerProps","disableElevation","mt","Card","CardContent","style","SearchTitle","SearchOption","fontWeight","FocusedBusinessDialog","open","onClose","focusedBusiness","Dialog","fullWidth","startIcon","AddTwoTone","List","disablePadding","reviewIndex","Divider","component","ListItem","author","moreDetails","date","seconds","Math","floor","getTime","interval","timeSinceInHebrew","root","image","maxHeight","text","top","left","right","bottom","SearchEmptyState","my","emptyStateSvg","isBlankOrEmpty","str","trim","searchHeadlineContainer","searchOption","transition","deactivatedSearchOption","selectedFilterApplicatorsReducer","state","action","type","newState","Map","selectedOptions","delete","set","SearchContainer","useState","selectedSearchOption","setSelectedSearchOption","freeTextQuery","setFreeTextQuery","useReducer","selectedFilters","dispatchSelectedFiltersAction","results","setResults","isFocusedBusinessDialogOpen","setIsFocusedBusinessDialogOpen","setFocusedBusiness","enqueueSnackbar","useSnackbar","useEffect","FREE_TEXT","gutterBottom","TextField","clsx","label","onFocus","InputProps","startAdornment","InputAdornment","searchFilter","FILTERS","size","preventDuplicate","searchQuery","freeText","fromEntries","console","error","User","email","this","endsWith","GoogleLoginButton","onLogin","onError","buttonProps","GoogleAuthProvider","u","e","py","mr","GoogleIcon","FacebookLoginButton","FacebookAuthProvider","setCustomParameters","signInWithFacebook","FacebookIcon","ErrorSnackbarContent","LoginDialog","setOpen","handleError","handleUserCredential","userCredential","user","displayName","onAuthStateChanged","aria-labelledby","aria-describedby","DialogContent","backgroundColor","BusinessProposalType","Step1ResultType","backgroundImage","CircuitBoardPattern","minHeight","appBarMargin","mixins","toolbar","AdminPanel","isErrorSnackBarOpened","setIsErrorSnackBarOpened","isSuccessSnackBarOpened","setIsSuccessSnackBarOpened","openProposals","setOpenProposals","refreshProposals","useCallback","pt","isAnonymous","toLocaleDateString","day","month","year","alterExisting","Grid","item","xs","sm","existingBusiness","createNew","finally","Snackbar","autoHideDuration","Alert","Transition","forwardRef","ref","Slide","direction","AdminDialogPanel","fullScreen","disableEscapeKeyDown","TransitionComponent","Close","textField","borderTopRightRadius","button","borderTopLeftRadius","borderBottomLeftRadius","borderBottomRightRadius","overflowX","paddingRight","paddingBottom","minWidth","suggestionsContainerExtendedWidth","Step1","onResult","useTheme","businessName","setBusinessName","suggestions","setSuggestions","resultsShouldOverflowContainer","useMediaQuery","placeholder","AccountCircleTwoTone","disabled","useExisting","multilineTextFieldNoLabel","paddingTop","Step3","setRating","setMoreDetails","handleBack","handleNext","_","multiline","rows","withAuthenticated","Component","changeDescription","businessResult","setIsAnonymous","ratingText","FormControlLabel","control","dualColumnGrid","nameTextField","setLocation","phone","setPhone","entries","find","setSelectedFilters","editMode","setEditMode","isInvalidRecommendation","iterable","callbackfn","current","next","done","iterableSome","newMap","setMap","businessInfo","createStyles","actionsContainer","resetContainer","steps","requireAuthenticated","selectedBusiness","activeStep","setActiveStep","prevActiveStep","setExistingBusiness","setBusinessProposal","setSent","setSentSuccessfully","result","send","role","Stepper","alternativeLabel","Step","StepLabel","App","isLoginDialogOpen","isAdminDialogOpen","proposeScreenSelectedBusiness","setProposeScreenSelectedBusiness","Fragment","CssBaseline","Provider","Collapse","timeout","transitionDelay","enter","exit","Propose","createMuiTheme","palette","main","secondary","fontFamily","h5","textTransform","heIL","jss","create","plugins","jssPreset","rtl","RTL","StylesProvider","children","ThemedApp","notistackRef","createRef","onClickDismiss","closeSnackbar","ThemeProvider","hideIconVariant","maxSnack","anchorOrigin","horizontal","vertical","CloseTwoTone","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d156dac8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/CircuitBoard.f5cc6d2e.svg\";","import * as firebase from \"firebase/app\";\n\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD0e79ilwZg5BVUUOrYB6iAj1w0FZiAkcU\",\n  authDomain: \"maavarimfriendly.firebaseapp.com\",\n  databaseURL: \"https://maavarimfriendly.firebaseio.com\",\n  projectId: \"maavarimfriendly\",\n  storageBucket: \"maavarimfriendly.appspot.com\",\n  messagingSenderId: \"479517849359\",\n  appId: \"1:479517849359:web:998d592de50fe007b4707a\",\n  measurementId: \"G-5YNF4DPSTE\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport enum Collection {\n  Filters = \"filters\"\n}\n\nexport default firebase;\n","import firebase from \"../firebase\";\n\nconst signInWith = (provider: firebase.auth.AuthProvider) =>\n  new Promise<firebase.auth.UserCredential>((resolve, reject) => {\n    firebase.auth().useDeviceLanguage();\n\n    firebase.auth().signInWithPopup(provider).then(resolve).catch(reject);\n  });\n\nexport const signInWithGoogle = () =>\n  signInWith(new firebase.auth.GoogleAuthProvider());\n\nexport const signInWithFacebook = () => {\n  const provider = new firebase.auth.FacebookAuthProvider();\n  provider.setCustomParameters({\n    display: \"popup\",\n  });\n  return signInWith(provider);\n};\n\nexport const checkIfAlreadyLoggedIn = () =>\n  new Promise<firebase.User>((resolve) => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user !== null) resolve(user);\n    });\n  });\n\nexport const logout = () => firebase.auth().signOut();\n\nexport const getIdToken = () => firebase.auth().currentUser?.getIdToken(true);\n\nexport function fetchAuthenticated(\n  input: RequestInfo,\n  init?: RequestInit\n): Promise<Response> {\n  return new Promise(\n    (resolve, reject) =>\n      getIdToken()\n        ?.then((idToken: string) => {\n          fetch(input, {\n            ...(init ?? {}),\n            headers: new Headers({\n              ...(init?.headers ?? {}),\n              Authorization: \"Bearer \" + idToken,\n            }),\n          })\n            .then(resolve)\n            .catch(reject);\n        })\n        .catch(reject) ?? reject(new Error(\"Failed to get user's ID token.\"))\n  );\n}\n","import React from \"react\";\nimport {\n  Container,\n  AppBar as MuiAppBar,\n  Toolbar,\n  Typography,\n  makeStyles,\n  Box,\n  IconButton,\n  Fade,\n} from \"@material-ui/core\";\nimport LogoJpeg from \"../img/Logo.jpeg\";\nimport { ChevronRightTwoTone } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBarTitle: {\n    flexGrow: 1,\n    [theme.breakpoints.down(\"xs\")]: {\n      display: \"none\",\n    },\n  },\n  logoImage: {\n    height: \"3em\",\n  },\n  spacer: {\n    [theme.breakpoints.down(\"xs\")]: {\n      flexGrow: 1,\n    },\n  },\n  profilePhoto: {\n    height: \"2em\",\n    borderRadius: \"50%\",\n    marginInlineEnd: `${theme.spacing(1)}px`,\n  },\n}));\n\ninterface AppBarProps {\n  title: string;\n  buttons: JSX.Element;\n  backButtonProps?: {\n    onClick: () => void;\n  };\n  position?: \"fixed\" | \"absolute\" | \"sticky\" | \"static\" | \"relative\";\n}\n\nfunction AppBar({ title, buttons, backButtonProps, position }: AppBarProps) {\n  const classes = useStyles();\n\n  return (\n    <MuiAppBar position={position ?? \"static\"}>\n      <Toolbar>\n        <Container maxWidth=\"md\">\n          <Box display=\"flex\" alignItems=\"center\">\n            {backButtonProps && (\n              <Fade in={backButtonProps !== undefined}>\n                <IconButton\n                  edge=\"start\"\n                  color=\"inherit\"\n                  aria-label=\"menu\"\n                  onClick={backButtonProps.onClick}\n                >\n                  <ChevronRightTwoTone />\n                </IconButton>\n              </Fade>\n            )}\n            <img src={LogoJpeg} className={classes.logoImage} alt=\"logo\" />\n            <Box className={classes.spacer} />\n            <Typography variant=\"h6\" className={classes.appBarTitle}>\n              {title}\n            </Typography>\n            {buttons}\n          </Box>\n        </Container>\n      </Toolbar>\n    </MuiAppBar>\n  );\n}\n\nexport default AppBar;\n","import React from \"react\";\nimport User from \"../types/User\";\n\nconst LoggedInUserContext = React.createContext<User | null>(null);\n\nexport default LoggedInUserContext;\n","import React, { Fragment, useContext } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport User from \"../types/User\";\nimport { logout } from \"../firebase/auth\";\nimport AppBar from \"./AppBar\";\nimport LoggedInUserContext from \"../context/LoggedInUserContext\";\n\ninterface MainAppBarProps {\n  setIsAdminDialogOpen: (isAdminDialogOpen: boolean) => void;\n  setIsLoginDialogOpen: (isLoginDialogOpen: boolean) => void;\n  setLoggedInUser: (loggedInUser: User | null) => void;\n\n  isProposeScreenOpen: boolean;\n  setIsProposeScreenOpen: (isProposeScreenOpen: boolean) => void;\n}\n\nconst MainAppBar = ({\n  setIsAdminDialogOpen,\n  setIsLoginDialogOpen,\n  setLoggedInUser,\n  isProposeScreenOpen,\n  setIsProposeScreenOpen,\n}: MainAppBarProps) => {\n  const loggedInUser = useContext(LoggedInUserContext);\n\n  return (\n    <AppBar\n      title=\"מעברים – חיפוש אנשי.ות מקצוע\"\n      backButtonProps={\n        isProposeScreenOpen\n          ? {\n              onClick: () => setIsProposeScreenOpen(false),\n            }\n          : undefined\n      }\n      buttons={\n        loggedInUser ? (\n          <Fragment>\n            {loggedInUser?.isStaff && (\n              <Button\n                color=\"inherit\"\n                onClick={() => setIsAdminDialogOpen(true)}\n              >\n                ניהול\n              </Button>\n            )}\n            <Button\n              color=\"inherit\"\n              onClick={() => logout().then(() => setLoggedInUser(null))}\n            >\n              התנתקות\n            </Button>\n          </Fragment>\n        ) : (\n          <Button color=\"inherit\" onClick={() => setIsLoginDialogOpen(true)}>\n            התחברות\n          </Button>\n        )\n      }\n    />\n  );\n};\n\nexport default MainAppBar;\n","import React, { Fragment } from \"react\";\nimport Svg01 from \"./01.svg\";\nimport Svg02 from \"./02.svg\";\nimport Svg03 from \"./03.svg\";\nimport Svg04 from \"./04.svg\";\nimport Svg05 from \"./05.svg\";\nimport Svg06 from \"./06.svg\";\nimport Svg07 from \"./07.svg\";\nimport Svg08 from \"./08.svg\";\n\nconst WelcomeTitle = () => (\n  <Fragment>\n    <img src={Svg01} alt=\"ברוכיםות\" />\n    <img src={Svg02} alt=\"הבאיםות\" />\n    <img src={Svg03} alt=\"למערכת\" />\n    <img src={Svg04} alt=\"אנשי ואנשות\" />\n    <img src={Svg05} alt=\"המקצוע\" />\n    <img src={Svg06} alt=\"של\" />\n    <img src={Svg07} alt=\"הקהילה\" />\n    <img src={Svg08} alt=\"הטרנסית\" />\n  </Fragment>\n);\n\nexport default WelcomeTitle;\n","import React from \"react\";\nimport { ServerBusiness } from \"../types/Business\";\n\nconst ProposeActionsContext = React.createContext<{\n  openProposeScreen: (business?: ServerBusiness) => void;\n} | null>(null);\n\nexport default ProposeActionsContext;\n","import React, { useContext } from \"react\";\nimport {\n  Container,\n  Typography,\n  makeStyles,\n  Box,\n  ButtonBase,\n  Paper,\n} from \"@material-ui/core\";\nimport LoggedInUserContext from \"../context/LoggedInUserContext\";\nimport WelcomeTitle from \"../img/MultiGenderHebrew/WelcomeTitle\";\nimport ProposeActionsContext from \"../context/ProposeActionsContext\";\n\nconst GRADIENT =\n  \"rgba(255,255,255,1) 0%, rgba(245,172,202,1) 50%, rgba(107,175,225,1) 100%\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"stretch\",\n    background: \"white\",\n  },\n  content: {\n    padding: theme.spacing(8, 0, 10),\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: theme.spacing(4, 2, 10, 2),\n    },\n  },\n  welcomeHeadlineContainer: {\n    margin: \"0 auto\",\n    textAlign: \"center\",\n    \"& > img\": {\n      height: \"1.75rem\",\n      marginLeft: \".85rem\",\n      marginBottom: \".25em\",\n      \"&:first-of-type\": {\n        marginLeft: 0,\n      },\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      marginBottom: theme.spacing(1),\n    },\n  },\n  cta: {\n    all: \"unset\",\n    margin: \"-0.25em 0\",\n    padding: \"0 .25em\",\n    overflow: \"hidden\",\n    display: \"inline-flex\",\n    position: \"relative\",\n    borderRadius: \".25em\",\n    border: \"1px currentColor solid\",\n    cursor: \"pointer\",\n  },\n  rightGradient: {\n    width: `calc(50vw - ${theme.breakpoints.values.md / 2}px)`,\n    background: `linear-gradient(90deg, ${GRADIENT})`,\n  },\n  leftGradient: {\n    width: `calc(50vw - ${theme.breakpoints.values.md / 2}px)`,\n    background: `linear-gradient(270deg, ${GRADIENT})`,\n  },\n}));\n\ninterface HeroProps {\n  onLoginButtonClick: () => void;\n}\n\nfunction Hero({ onLoginButtonClick }: HeroProps) {\n  const classes = useStyles();\n\n  const openProposeScreen = useContext(ProposeActionsContext)\n    ?.openProposeScreen;\n\n  const loggedInUser = useContext(LoggedInUserContext);\n  const isLoggedIn = loggedInUser !== null;\n\n  return (\n    <Paper className={classes.container} elevation={2}>\n      <Box className={classes.rightGradient} />\n      <Container maxWidth=\"md\" className={classes.content}>\n        <Box className={classes.welcomeHeadlineContainer}>\n          <WelcomeTitle />\n        </Box>\n        {isLoggedIn ? (\n          <Typography\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textSecondary\"\n            paragraph\n          >\n            כאן תוכלו למצוא מגוון של אנשות מקצוע, מומחים, רופאות ומטפלים.\n            <br />\n            אנחנו מזמינות אתכםן להשאיר משוב, לדרג ולשתף חוויות.\n            <br />\n            מכיריםות מישהו.י שלא ברשימה?{\" \"}\n            <ButtonBase\n              className={classes.cta}\n              onClick={() => openProposeScreen?.()}\n            >\n              הוסיפו\n            </ButtonBase>{\" \"}\n            אותםן!\n          </Typography>\n        ) : (\n          <Typography\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textSecondary\"\n            paragraph\n          >\n            כאן תוכלו למצוא מגוון של אנשות מקצוע, מומחים, רופאות ומטפלים.\n            <br />\n            אנחנו מזמינות אתכםן להרשם ולהשאיר משוב, לדרג ולשתף חוויות.\n            <br />\n            מכיריםות מישהו.י שלא ברשימה?{\" \"}\n            <ButtonBase className={classes.cta} onClick={onLoginButtonClick}>\n              התחברו\n            </ButtonBase>{\" \"}\n            והוסיפו אותםן!\n          </Typography>\n        )}\n      </Container>\n      <Box className={classes.leftGradient} />\n    </Paper>\n  );\n}\n\nexport default Hero;\n","import React from \"react\";\nimport { SvgIcon, SvgIconProps } from \"@material-ui/core\";\n\nfunction HomeSearchIcon(props: SvgIconProps) {\n  return (\n    <SvgIcon {...props}>\n      <path\n        opacity=\"0.3\"\n        fill=\"currentColor\"\n        d=\"M19.31 18.9C19.75 18.21 20 17.38 20 16.5C20 14 18 12 15.5 12S11 14 11 16.5 13 21 15.5 21C16.37 21 17.19 20.75 17.88 20.32L21 23.39L22.39 22L19.31 18.9M15.5 19C14.12 19 13 17.88 13 16.5S14.12 14 15.5 14 18 15.12 18 16.5 16.88 19 15.5 19M5 20V12H2L12 3L22 12H20.18C19 10.77 17.34 10 15.5 10C11.92 10 9 12.92 9 16.5C9 17.79 9.38 19 10.03 20H5Z\"\n      />\n      <path\n        fill=\"currentColor\"\n        d=\"M19.31 18.9C19.75 18.21 20 17.38 20 16.5C20 14 18 12 15.5 12S11 14 11 16.5 13 21 15.5 21C16.37 21 17.19 20.75 17.88 20.32L21 23.39L22.39 22L19.31 18.9M15.5 19C14.12 19 13 17.88 13 16.5S14.12 14 15.5 14 18 15.12 18 16.5 16.88 19 15.5 19M5 20V12H2L12 3L22 12H20.18C19.33 11.11 18.23 10.47 17 10.18L12 5.69L7 10.19V18H9.18C9.35 18.72 9.64 19.39 10.03 20H5Z\"\n      />\n    </SvgIcon>\n  );\n}\n\nexport default HomeSearchIcon;\n","export const reduceNulls = <T>(array: (T | null)[]) =>\n  array.indexOf(null) > -1 ? null : (array as T[]);\n\nexport const moveElementUp = <T>(array: T[], index: number) =>\n  index === 0\n    ? array\n    : [\n        ...array.slice(0, index - 1),\n        array[index],\n        array[index - 1],\n        ...array.slice(index + 1),\n      ];\n\nexport const iterableSome = <T>(\n  iterable: IterableIterator<T>,\n  callbackfn: (value: T) => boolean\n) => {\n  let current = iterable.next();\n  while (!current.done) {\n    if (callbackfn(current.value)) return true;\n    current = iterable.next();\n  }\n  return false;\n};\n\nexport const formatForDisplaying = (array: string[]) => array.join(\" · \");\n\nexport const average = (array: number[]) =>\n  array.reduce((prev, curr) => prev + curr, 0) / array.length;\n","import React from \"react\";\nimport {\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Checkbox,\n  ListItemText,\n} from \"@material-ui/core\";\nimport SearchFilter, { SearchFilterRenderer } from \".\";\nimport { formatForDisplaying } from \"../utils/Array\";\n\nfunction getSelectBasedSearchFilterRenderer(\n  fieldName: string,\n  title: string,\n  options: string[]\n): SearchFilterRenderer {\n  return (props) => {\n    const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n      const updatedSelectedOptions = event.target.value as string[];\n      props.onChange(updatedSelectedOptions);\n    };\n\n    return (\n      <FormControl\n        color=\"secondary\"\n        variant=\"filled\"\n        {...(props.formControlProps ?? {})}\n      >\n        <InputLabel id={`select-${fieldName}`}>{title}</InputLabel>\n        <Select\n          labelId={`select-${fieldName}`}\n          multiple\n          renderValue={(selected) => formatForDisplaying(selected as string[])}\n          value={props.value}\n          onChange={handleChange}\n          {...(props.selectProps ?? {})}\n        >\n          {options.map((option, optionIndex) => (\n            <MenuItem value={option} key={optionIndex}>\n              <Checkbox checked={(props.value?.indexOf(option) ?? -1) > -1} />\n              <ListItemText primary={option} />\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    );\n  };\n}\n\nexport function getSelectBasedSearchFilter(\n  filterKey: string,\n  title: string,\n  options: string[]\n): SearchFilter {\n  return {\n    filterKey,\n    render: getSelectBasedSearchFilterRenderer(filterKey, title, options),\n  };\n}\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"profession\";\nconst title = \"מקצוע\";\nconst options = [\n  \"אחר\",\n  \"מחלקה בבי״ח\",\n  \"מטפל.ת\",\n  \"מעסה\",\n  \"עוסק.ת מתחום הרפואה\",\n  \"פאות ותוספות שיער\",\n  \"קוסמטיקאי.ת\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import professionSearchFilter from \"./profession\";\nimport expertiseSearchFilter from \"./expertise\";\nimport areaSearchFilter from \"./area\";\nimport healthCareSearchFilter from \"./healthCare\";\nimport languageSearchFilter from \"./language\";\nimport genderSearchFilter from \"./gender\";\nimport { FormControlProps, SelectProps } from \"@material-ui/core\";\n\ninterface SearchFilterProps {\n  value: string[];\n  onChange: (selectedOptions: string[]) => void;\n  selectProps?: SelectProps;\n  formControlProps?: FormControlProps;\n}\n\nexport type SearchFilterRenderer = (props: SearchFilterProps) => JSX.Element;\n\nexport type SearchFilter = {\n  filterKey: string;\n  render: SearchFilterRenderer;\n};\n\nexport const searchFilters = [\n  professionSearchFilter,\n  expertiseSearchFilter,\n  areaSearchFilter,\n  healthCareSearchFilter,\n  languageSearchFilter,\n  genderSearchFilter,\n];\n\nexport default SearchFilter;\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"expertise\";\nconst title = \"התמחות\";\nconst options = [\n  \"אולטרסאונד\",\n  \"אורטופדיה\",\n  \"אח.ות\",\n  \"אחר\",\n  \"אנדוקרינולוגיה\",\n  \"גניקולוגיה\",\n  \"גסטרולוגיה\",\n  \"המטולוגיה\",\n  \"הסרת שיער בלייזר\",\n  \"טיפול באמנות\",\n  \"ילדים ומתבגרים\",\n  \"כירורגיה\",\n  \"משפחה\",\n  \"נפרולוגיה\",\n  \"עבודה סוציאלית\",\n  \"עור ומין\",\n  \"עיניים\",\n  \"פנימית\",\n  \"פסיכולוגיה\",\n  \"פסיכותרפיה\",\n  \"פסיכיאטריה\",\n  \"קלינאי.ת תקשורת\",\n  \"רפואה אלטרנטיבית\",\n  \"שיננית\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"area\";\nconst title = \"אזור\";\nconst options = [\n  \"אזור אשקלון\",\n  \"אזור חדרה\",\n  \"אזור נתניה\",\n  \"אילת והערבה\",\n  \"באר שבע והנגב\",\n  \"גוש דן\",\n  \"גליל ועמקים\",\n  \"המשולש\",\n  \"חיפה והקריות\",\n  \"יהודה ושומרון\",\n  \"ירושלים והסביבה\",\n  \"רמלה, לוד והאזור\",\n  \"רמת הגולן\",\n  \"רעננה והסביבה\",\n  \"שפלה\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"healthCare\";\nconst title = \"קופת חולים\";\nconst options = [\n  \"כללית\",\n  \"מכבי\",\n  \"לאומית\",\n  \"מאוחדת\",\n  \"פרטי\",\n  \"בית חולים\",\n  \"צה״ל\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"language\";\nconst title = \"שפה\";\nconst options = [\n  \"עברית\",\n  \"אנגלית\",\n  \"רוסית\",\n  \"ערבית\",\n  \"צרפתית\",\n  \"גרמנית\",\n  \"ספרדית\",\n  \"פורטוגזית\",\n  \"איטלקית\"\n];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { getSelectBasedSearchFilter } from \"./SelectBasedSearchFilter\";\n\nconst fieldName = \"gender\";\nconst title = \"מגדר\";\nconst options = [\"אחר\", \"אישה\", \"גבר\"];\n\nexport default getSelectBasedSearchFilter(fieldName, title, options);\n","import { Config } from \"../utils/Config\";\nimport { fetchAuthenticated } from \"../firebase/auth\";\nimport { ServerBusiness } from \"../types/Business\";\nimport { Proposal, StoredProposal } from \"../types/Proposal\";\nimport { ServerReview } from \"../types/Review\";\n\nconst apiBase = Config.debug\n  ? \"http://localhost:5000/\"\n  : \"https://maavarim.herokuapp.com/\";\n\nconst get = (path: string, params: any = {}, auth: boolean = true) => {\n  const url = new URL(apiBase + path);\n  Object.keys(params).forEach((key) =>\n    url.searchParams.append(key, params[key])\n  );\n\n  return (auth ? fetchAuthenticated : fetch)(url.href, {\n    method: \"get\",\n  });\n};\n\nconst post = (path: string, body: any = {}, auth: boolean = true) =>\n  (auth ? fetchAuthenticated : fetch)(apiBase + path, {\n    method: \"post\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\nasync function propose(proposal: Proposal): Promise<void> {\n  return post(\"proposal/\", proposal).then(({ status }) => {\n    if (status !== 200) throw new Error();\n  });\n}\n\nasync function getAllOpenProposals(): Promise<StoredProposal[]> {\n  const jsonRes = await (await get(\"proposal/\")).json();\n  return jsonRes[\"proposals\"].map((proposalRaw: StoredProposal) => ({\n    ...proposalRaw,\n    createdAt:\n      proposalRaw.createdAt && new Date(Date.parse(proposalRaw.createdAt)),\n  })) as StoredProposal[];\n}\n\nasync function acceptProposal(proposalId: number): Promise<void> {\n  return post(`proposal/${proposalId}/accept/`).then(({ status }) => {\n    if (status !== 200) throw new Error();\n  });\n}\n\nasync function declineProposal(proposalId: number): Promise<void> {\n  return post(`proposal/${proposalId}/decline/`).then(({ status }) => {\n    if (status !== 200) throw new Error();\n  });\n}\n\nfunction parseReview(review: any): ServerReview {\n  return {\n    ...review,\n    createdAt: review.createdAt && new Date(Date.parse(review.createdAt)),\n  };\n}\n\nasync function fetchBusinesses(query: any): Promise<ServerBusiness[]> {\n  const jsonRes = await (\n    await get(\n      \"business/\",\n      { ...query, attributes: JSON.stringify(query.attributes) },\n      false\n    )\n  ).json();\n  return jsonRes[\"businesses\"].map((business: any) => ({\n    ...business,\n    reviews: business.reviews.map(parseReview),\n  }));\n}\n\nconst server = {\n  propose,\n  fetchBusinesses,\n  getAllOpenProposals,\n  acceptProposal,\n  declineProposal,\n};\n\nexport default server;\n","import { styled, Button } from \"@material-ui/core\";\n\nexport const ContainedPrimaryButton = styled(Button)({\n  background: \"#9c27b0\",\n  color: \"#f1efef\",\n  \"&:hover\": {\n    background: \"rgba(156, 39, 176, 0.85)\"\n  }\n});\n\nexport const PrimaryButton = styled(Button)({\n  background: \"#f9f9f9\",\n  color: \"#8e24aa\"\n});\n\nexport const DangerButton = styled(Button)({\n  background: \"#f9f9f9\",\n  color: \"#d32f2f\"\n});\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core\";\nimport { Rating as MuiRating, RatingProps } from \"@material-ui/lab\";\nimport { StarBorder, StarTwoTone } from \"@material-ui/icons\";\n\nconst Rating = withStyles({\n  iconFilled: {\n    color: \"#8e24aa\"\n  },\n  iconHover: {\n    color: \"#a739c6\"\n  }\n})(MuiRating);\n\nexport default (props: RatingProps) => (\n  <Rating\n    precision={0.5}\n    emptyIcon={<StarBorder fontSize=\"inherit\" />}\n    icon={<StarTwoTone fontSize=\"inherit\" />}\n    color=\"secondary\"\n    {...props}\n  />\n);\n","import React, { Fragment } from \"react\";\nimport { Typography, makeStyles, Box, Badge } from \"@material-ui/core\";\nimport {\n  PlaceTwoTone,\n  LabelTwoTone,\n  CallTwoTone,\n  TranslateTwoTone,\n  SpaTwoTone,\n  BookTwoTone,\n  MapTwoTone,\n  FiberManualRecordTwoTone,\n} from \"@material-ui/icons\";\nimport Rating from \"./Rating\";\nimport Business, { ServerBusiness, averageRating } from \"../types/Business\";\nimport { formatForDisplaying } from \"../utils/Array\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    fontSize: theme.typography.body1.fontSize,\n  },\n  name: {\n    flexGrow: 1,\n    marginRight: theme.spacing(2),\n    lineHeight: \"1em\",\n  },\n  ratingStars: {\n    fontSize: \"1.1em\",\n  },\n  ratingNumber: {\n    fontSize: \"1.1rem\",\n    lineHeight: \"1em\",\n    \"& > .MuiBadge-badge\": {\n      transform: \"unset\",\n      position: \"unset\",\n    },\n  },\n  tinyText: {\n    fontSize: \".8em\",\n  },\n  details: {\n    display: \"grid\",\n    gridTemplateColumns: \"1.1em 1fr\",\n    gridGap: \".25em .5em\",\n    \"& .MuiSvgIcon-root\": {\n      fontSize: \"1.1em\",\n      height: \"1.1em\",\n      width: \"1.1em\",\n    },\n  },\n  buttonsContainer: {\n    display: \"flex\",\n  },\n  buttonsContainerSpaceBetweenButtons: {\n    justifyContent: \"center\",\n  },\n  buttonsContainerFullWidthButtons: {\n    [theme.breakpoints.up(\"xs\")]: {\n      borderTop: \"1px solid #f7ecf9\",\n      \"& .MuiButton-root\": {\n        borderRadius: 0,\n        flexGrow: 1,\n      },\n    },\n  },\n}));\n\nexport type RatingProp = \"number\" | \"stars\";\n\ntype BusinessViewProps = {\n  buttons?: JSX.Element;\n  fullWidthButtons?: boolean;\n  detailed?: boolean;\n} & (\n  | {\n      business: Business;\n      rating: false;\n    }\n  | {\n      business: ServerBusiness;\n      rating?: RatingProp;\n    }\n);\n\nconst BusinessView = ({\n  business,\n  buttons,\n  fullWidthButtons = false,\n  detailed = false,\n  rating,\n}: BusinessViewProps) => {\n  const classes = useStyles();\n\n  const ratingValue =\n    rating !== null && averageRating(business as ServerBusiness);\n\n  return (\n    <Fragment>\n      <Box className={classes.container} p={2} pb={1}>\n        <Box display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" mb={1}>\n          <Typography variant=\"h6\" className={classes.name}>\n            {business.name}\n          </Typography>\n          {rating === \"stars\" && (\n            <Rating\n              className={classes.ratingStars}\n              value={ratingValue as number}\n              readOnly\n            />\n          )}\n          {rating === \"number\" && ratingValue && (\n            <Badge\n              badgeContent={ratingValue}\n              color=\"secondary\"\n              className={classes.ratingNumber}\n            />\n          )}\n        </Box>\n\n        <Box className={classes.details}>\n          <LabelTwoTone />\n          <Box title=\"מקצוע\">\n            {formatForDisplaying(business.info.profession)}\n          </Box>\n\n          {detailed && (\n            <Fragment>\n              <BookTwoTone />\n              <Box title=\"התמחות\">\n                {formatForDisplaying(business.info.expertise)}\n              </Box>\n            </Fragment>\n          )}\n\n          <MapTwoTone />\n          <Box title=\"איזור\">{formatForDisplaying(business.info.area)}</Box>\n\n          {business.info.locations && (\n            <Fragment>\n              <PlaceTwoTone />\n              <Box title=\"כתובת\">\n                {business.info.locations.map((location, index) => (\n                  <Fragment key={location.address}>\n                    {0 < index && <br />}\n                    {location.address}\n                  </Fragment>\n                ))}\n              </Box>\n            </Fragment>\n          )}\n\n          {detailed && (\n            <Fragment>\n              <CallTwoTone />\n              <Box title=\"מספר טלפון\">\n                {business.info.phoneNumbers.map((phoneNumber, index) => (\n                  <Fragment key={phoneNumber}>\n                    {0 < index && <br />}\n                    {phoneNumber}\n                  </Fragment>\n                ))}\n              </Box>\n            </Fragment>\n          )}\n\n          <TranslateTwoTone />\n          <Box title=\"שפה\">{formatForDisplaying(business.info.language)}</Box>\n\n          <SpaTwoTone />\n          <Box title=\"קופת חולים\">\n            {formatForDisplaying(business.info.healthCare)}\n          </Box>\n\n          <Fragment>\n            <FiberManualRecordTwoTone />\n            <Box title=\"מגדר\">{formatForDisplaying(business.info.gender)}</Box>\n          </Fragment>\n        </Box>\n      </Box>\n      {buttons && (\n        <Box\n          className={\n            classes.buttonsContainer +\n            ` ${\n              fullWidthButtons\n                ? classes.buttonsContainerFullWidthButtons\n                : classes.buttonsContainerSpaceBetweenButtons\n            }`\n          }\n        >\n          {buttons}\n        </Box>\n      )}\n    </Fragment>\n  );\n};\n\nexport default BusinessView;\n","import { ServerReview } from \"./Review\";\nimport { average } from \"../utils/Array\";\nimport { Business } from \"@material-ui/icons\";\n\nexport interface BusinessLocation {\n  address: string;\n}\n\nexport interface BusinessInfo {\n  phoneNumbers: string[];\n  locations: BusinessLocation[];\n\n  area: string[];\n  expertise: string[];\n  gender: string[];\n  healthCare: string[];\n  language: string[];\n  profession: string[];\n}\n\ninterface Business {\n  name: string;\n  info: BusinessInfo;\n}\n\nexport interface ServerBusiness extends Business {\n  id: number;\n  reviews?: ServerReview[];\n}\n\nexport const averageRating = (business: ServerBusiness) =>\n  (business?.reviews?.length ?? 0) > 0\n    ? average(business.reviews!.map((review) => review.content.rating))\n    : null;\n\nexport default Business;\n","import React from \"react\";\nimport { ServerBusiness } from \"../types/Business\";\nimport {\n  makeStyles,\n  Box,\n  Card,\n  CardContent,\n  BoxProps,\n} from \"@material-ui/core\";\nimport BusinessView, { RatingProp } from \"./BusinessView\";\n\nconst useStyles = makeStyles((theme) => ({\n  searchContainer: {\n    marginTop: `-${theme.spacing(4)}px`,\n  },\n  fieldsContainer: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n  freeTextField: {\n    gridRow: 1,\n    gridColumn: \"1 / 3\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridColumn: 1,\n    },\n  },\n  resultsContainer: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridTemplateColumns: \"repeat(3, 1fr)\",\n    alignItems: \"start\",\n    [theme.breakpoints.only(\"xs\")]: {\n      gridTemplateColumns: \"repeat(2, 1fr)\",\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n}));\n\ninterface BusinessesContainerProps {\n  businesses: ServerBusiness[];\n  buttons: (business: ServerBusiness) => JSX.Element;\n  containerProps?: BoxProps;\n  disableElevation?: boolean;\n  rating?: RatingProp;\n}\n\nconst BusinessesContainer = ({\n  businesses,\n  buttons,\n  containerProps,\n  disableElevation,\n  rating,\n}: BusinessesContainerProps) => {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.resultsContainer} mt={2} mb={2} {...containerProps}>\n      {businesses.map((business) => (\n        <Card key={business.name} elevation={disableElevation ? 0 : 1}>\n          <CardContent style={{ padding: 0 }}>\n            <BusinessView\n              business={business}\n              buttons={buttons(business)}\n              fullWidthButtons\n              rating={rating}\n            />\n          </CardContent>\n        </Card>\n      ))}\n    </Box>\n  );\n};\n\nexport default BusinessesContainer;\n","import React, { Fragment } from \"react\";\nimport Svg01 from \"./01.svg\";\nimport Svg02 from \"./02.svg\";\nimport Svg03 from \"./03.svg\";\n\nconst SearchTitle = () => (\n  <Fragment>\n    <img src={Svg01} alt=\"חיפוש\" />\n    <img src={Svg02} alt=\"אנשי ואנשות\" />\n    <img src={Svg03} alt=\"מקצוע\" />\n  </Fragment>\n);\n\nexport default SearchTitle;\n","import React, { Fragment } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  Divider,\n  List,\n  ListItem,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport { ServerBusiness } from \"../types/Business\";\nimport BusinessView from \"./BusinessView\";\nimport { AddTwoTone } from \"@material-ui/icons\";\nimport Rating from \"./Rating\";\nimport { timeSinceInHebrew } from \"../utils/Date\";\n\ntype FocusedBusinessDialogProps = {\n  open: boolean;\n  onClose: () => void;\n  focusedBusiness: ServerBusiness | null;\n  openProposeScreen?:\n    | ((business?: ServerBusiness | undefined) => void)\n    | undefined;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  reviews: {\n    marginTop: theme.spacing(1),\n  },\n  review: {\n    padding: theme.spacing(1.5, 2),\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n  },\n  rating: {\n    fontSize: \"1.1em\",\n  },\n  createdAt: {\n    fontWeight: \"bold\",\n    display: \"inline\",\n  },\n}));\n\nconst FocusedBusinessDialog = ({\n  open,\n  onClose,\n  focusedBusiness,\n  openProposeScreen,\n}: FocusedBusinessDialogProps) => {\n  const classes = useStyles();\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\n      <Box p={1}>\n        {focusedBusiness && (\n          <Fragment>\n            <BusinessView\n              business={focusedBusiness}\n              rating=\"stars\"\n              detailed\n              buttons={\n                <Fragment>\n                  <Button\n                    variant=\"text\"\n                    startIcon={<AddTwoTone />}\n                    onClick={() => openProposeScreen?.(focusedBusiness)} // TODO\n                    color=\"primary\"\n                  >\n                    יש לי מה להוסיף\n                  </Button>\n                </Fragment>\n              }\n            />\n            {focusedBusiness.reviews && (\n              <List disablePadding className={classes.reviews}>\n                {focusedBusiness.reviews.map((review, reviewIndex) => (\n                  <Fragment key={reviewIndex}>\n                    <Divider variant=\"middle\" component=\"li\" />\n                    <ListItem className={classes.review}>\n                      <Box\n                        display=\"flex\"\n                        justifyContent=\"space-between\"\n                        alignItems=\"center\"\n                      >\n                        <Typography>\n                          {review.author\n                            ? review.author.name\n                            : \"שולח.ת אנונימי.ת\"}\n                        </Typography>\n                        <Rating\n                          className={classes.rating}\n                          value={review.content.rating}\n                          readOnly\n                        />\n                      </Box>\n                      {review.content.moreDetails && (\n                        <Typography variant=\"body1\">\n                          {review.content.moreDetails}\n                        </Typography>\n                      )}\n                      <Typography variant=\"caption\" color=\"textSecondary\">\n                        {timeSinceInHebrew(review.createdAt)}\n                      </Typography>\n                    </ListItem>\n                  </Fragment>\n                ))}\n              </List>\n            )}\n          </Fragment>\n        )}\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default FocusedBusinessDialog;\n","import React, {\n  useState,\n  Fragment,\n  useReducer,\n  useContext,\n  useEffect,\n} from \"react\";\nimport {\n  Typography,\n  makeStyles,\n  Box,\n  Card,\n  CardContent,\n  TextField,\n  InputAdornment,\n  Button,\n} from \"@material-ui/core\";\nimport HomeSearchIcon from \"../icons/HomeSearchIcon\";\nimport SearchFilter, { searchFilters } from \"../searchFilters\";\nimport server from \"../server\";\nimport { ServerBusiness } from \"../types/Business\";\nimport { PrimaryButton, ContainedPrimaryButton } from \"./StyledButtons\";\nimport BusinessesContainer from \"./BusinessesContainer\";\nimport SearchTitle from \"../img/MultiGenderHebrew/SearchTitle\";\nimport FocusedBusinessDialog from \"./FocusedBusinessDialog\";\nimport SearchEmptyState from \"./SearchEmptyState\";\nimport ProposeActionsContext from \"../context/ProposeActionsContext\";\nimport clsx from \"clsx\";\nimport { isBlankOrEmpty } from \"../utils/String\";\nimport { useSnackbar } from \"notistack\";\n\nconst useStyles = makeStyles((theme) => ({\n  searchHeadlineContainer: {\n    textAlign: \"center\",\n    margin: \"0rem auto\",\n    marginTop: \".85rem\",\n    \"& > img\": {\n      height: \"1.35rem\",\n      marginLeft: \".75em\",\n      marginBottom: \".25em\",\n      \"&:first-of-type\": {\n        marginLeft: 0,\n      },\n    },\n  },\n  fieldsContainer: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n  freeTextField: {\n    gridRow: 1,\n    gridColumn: \"1 / 3\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridColumn: 1,\n    },\n  },\n  searchOption: {\n    transition: \"opacity .2s ease\",\n  },\n  deactivatedSearchOption: {\n    opacity: 0.35,\n  },\n}));\n\ntype SelectedFilterApplicatorsState = Map<string, string[]>;\ntype SelectedFilterApplicatorsReducerAction = {\n  type: \"change\";\n  filterKey: string;\n  selectedOptions: string[];\n};\n\nfunction selectedFilterApplicatorsReducer(\n  state: SelectedFilterApplicatorsState,\n  action: SelectedFilterApplicatorsReducerAction\n): SelectedFilterApplicatorsState {\n  switch (action.type) {\n    case \"change\":\n      const newState = new Map(state);\n      if (action.selectedOptions.length === 0) {\n        newState.delete(action.filterKey);\n      } else {\n        newState.set(action.filterKey, action.selectedOptions);\n      }\n      return newState;\n  }\n}\n\nenum SearchOption {\n  FREE_TEXT,\n  FILTERS,\n}\n\nfunction SearchContainer() {\n  const classes = useStyles();\n\n  const openProposeScreen = useContext(ProposeActionsContext)\n    ?.openProposeScreen;\n\n  const [\n    selectedSearchOption,\n    setSelectedSearchOption,\n  ] = useState<SearchOption | null>(null);\n\n  const [freeTextQuery, setFreeTextQuery] = useState(\"\");\n  const [selectedFilters, dispatchSelectedFiltersAction] = useReducer(\n    selectedFilterApplicatorsReducer,\n    new Map<string, string[]>()\n  );\n  const [results, setResults] = useState<ServerBusiness[] | null>(null);\n\n  const [\n    isFocusedBusinessDialogOpen,\n    setIsFocusedBusinessDialogOpen,\n  ] = useState(false);\n  const [focusedBusiness, setFocusedBusiness] = useState<ServerBusiness | null>(\n    null\n  );\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const fetchResults = () => {\n    if (\n      selectedSearchOption === null ||\n      (selectedSearchOption === SearchOption.FREE_TEXT &&\n        isBlankOrEmpty(freeTextQuery)) ||\n      (selectedSearchOption === SearchOption.FILTERS &&\n        selectedFilters.size === 0)\n    ) {\n      enqueueSnackbar(\"צריך לבחור מסננים לחיפוש\", { preventDuplicate: true });\n      return;\n    }\n\n    const searchQuery = {\n      freeText:\n        selectedSearchOption === SearchOption.FREE_TEXT ? freeTextQuery : \"\",\n      attributes:\n        selectedSearchOption === SearchOption.FILTERS\n          ? Object.fromEntries(selectedFilters)\n          : {},\n    };\n\n    server.fetchBusinesses(searchQuery).then(setResults).catch(console.error);\n  };\n\n  useEffect(() => {\n    if (!isBlankOrEmpty(freeTextQuery)) {\n      setSelectedSearchOption(SearchOption.FREE_TEXT);\n    }\n  }, [freeTextQuery]);\n\n  return (\n    <Fragment>\n      <Card>\n        <CardContent style={{ padding: 0 }}>\n          <Box p={2}>\n            <Box mb={2}>\n              <Box className={classes.searchHeadlineContainer}>\n                <SearchTitle />\n              </Box>\n              <Typography align=\"center\" color=\"textSecondary\" gutterBottom>\n                חפשו לפי שם נותן.ת השירות <strong>או</strong> סננו לפי השדות\n              </Typography>\n            </Box>\n            <Box className={classes.fieldsContainer}>\n              <TextField\n                className={clsx(classes.freeTextField, classes.searchOption, {\n                  [classes.deactivatedSearchOption]: !(\n                    selectedSearchOption === null ||\n                    selectedSearchOption === SearchOption.FREE_TEXT\n                  ),\n                })}\n                label=\"שם נותן.ת השירות\"\n                value={freeTextQuery}\n                onChange={(event) => setFreeTextQuery(event.target.value)}\n                color=\"secondary\"\n                variant=\"filled\"\n                onFocus={() => setSelectedSearchOption(SearchOption.FREE_TEXT)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <HomeSearchIcon />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              {searchFilters.map((searchFilter: SearchFilter) => (\n                <searchFilter.render\n                  key={searchFilter.filterKey}\n                  value={selectedFilters.get(searchFilter.filterKey) ?? []}\n                  formControlProps={{\n                    className: clsx(classes.searchOption, {\n                      [classes.deactivatedSearchOption]: !(\n                        selectedSearchOption === null ||\n                        selectedSearchOption === SearchOption.FILTERS\n                      ),\n                    }),\n                  }}\n                  onChange={(selectedOptions) =>\n                    dispatchSelectedFiltersAction({\n                      type: \"change\",\n                      filterKey: searchFilter.filterKey,\n                      selectedOptions,\n                    })\n                  }\n                  selectProps={{\n                    onFocus: () => {\n                      setSelectedSearchOption(SearchOption.FILTERS);\n                    },\n                  }}\n                />\n              ))}\n            </Box>\n            <Box display=\"flex\" justifyContent=\"flex-end\" mt={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={fetchResults}\n              >\n                חיפוש\n              </Button>\n            </Box>\n          </Box>\n        </CardContent>\n      </Card>\n      {results !== null ? (\n        results.length === 0 ? (\n          <SearchEmptyState />\n        ) : (\n          <BusinessesContainer\n            businesses={results}\n            rating=\"number\"\n            buttons={(business) => (\n              <Fragment>\n                <PrimaryButton\n                  size=\"small\"\n                  style={{}}\n                  onClick={() => {\n                    setFocusedBusiness(business);\n                    setIsFocusedBusinessDialogOpen(true);\n                  }}\n                >\n                  פרטים נוספים\n                </PrimaryButton>\n                <ContainedPrimaryButton\n                  size=\"small\"\n                  onClick={() => openProposeScreen?.(business)}\n                >\n                  יש לי מה להוסיף!\n                </ContainedPrimaryButton>\n              </Fragment>\n            )}\n          />\n        )\n      ) : (\n        <Box mt={2} />\n      )}\n      <FocusedBusinessDialog\n        open={isFocusedBusinessDialogOpen}\n        onClose={() => setIsFocusedBusinessDialogOpen(false)}\n        focusedBusiness={focusedBusiness}\n        openProposeScreen={openProposeScreen}\n      />\n    </Fragment>\n  );\n}\n\nexport default SearchContainer;\n","export const formatDateToDisplay = (date: Date) => {\n  return date.toLocaleDateString(\"he\", {\n    day: \"numeric\",\n    month: \"numeric\",\n    year: \"2-digit\",\n  });\n};\n\nconst SECONDS_IN_MINUTE = 60;\nconst SECONDS_IN_HOUR = 3600;\nconst SECONDS_IN_DAY = 86400;\nconst SECONDS_IN_MONTH = 2592000;\nconst SECONDS_IN_YAER = 31536000;\n\nexport function timeSinceInHebrew(date: Date): string {\n  let seconds = Math.floor((new Date().getTime() - date.getTime()) / 1000);\n\n  let interval = seconds / SECONDS_IN_YAER;\n\n  if (interval > 1) {\n    return `לפני ${Math.floor(interval)} שנים`;\n  }\n  interval = seconds / SECONDS_IN_MONTH;\n  if (interval > 1) {\n    return `לפני ${Math.floor(interval)} חודשים`;\n  }\n  interval = seconds / SECONDS_IN_DAY;\n  if (interval > 1) {\n    return `לפני ${Math.floor(interval)} ימים`;\n  }\n  interval = seconds / SECONDS_IN_HOUR;\n  if (interval > 1) {\n    return `לפני ${Math.floor(interval)} שעות`;\n  }\n  interval = seconds / SECONDS_IN_MINUTE;\n  if (interval > 1) {\n    return `לפני ${Math.floor(interval)} דקות`;\n  }\n\n  if (seconds > 1) {\n    return `לפני ${Math.floor(seconds)} שניות`;\n  }\n\n  return \"ברגע זה\";\n}\n","import React from \"react\";\nimport { Box, makeStyles, Typography } from \"@material-ui/core\";\nimport emptyStateSvg from \"../img/EmptyState.svg\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    position: \"relative\",\n  },\n  image: {\n    maxHeight: \"16rem\",\n    width: \"60%\",\n  },\n  text: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst SearchEmptyState = () => {\n  const classes = useStyles();\n\n  return (\n    <Box my={4} className={classes.root}>\n      <img src={emptyStateSvg} alt=\"\" className={classes.image} />\n      <Typography variant=\"h6\" align=\"center\" className={classes.text}>\n        לא נמצאו עסקים מתאימים\n      </Typography>\n    </Box>\n  );\n};\n\nexport default SearchEmptyState;\n","export const isBlankOrEmpty = (str: string) => str.trim() === \"\";\n","export default class User {\n  name: string;\n  email: string;\n\n  constructor(name: string | null, email: string | null) {\n    this.name = name ?? \"\";\n    this.email = email ?? \"\";\n  }\n\n  get isStaff(): boolean {\n    return this.email?.endsWith(\"maavarim.org\");\n  }\n}\n","import React, { Fragment, useEffect } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogContent,\n  Box,\n  ButtonProps,\n} from \"@material-ui/core\";\nimport GoogleIcon from \"../img/GoogleIcon.svg\";\nimport FacebookIcon from \"../img/FacebookIcon.svg\";\nimport {\n  signInWithGoogle,\n  signInWithFacebook,\n  checkIfAlreadyLoggedIn,\n} from \"../firebase/auth\";\nimport User from \"../types/User\";\nimport { useSnackbar } from \"notistack\";\n\ninterface LoginButtonProps extends ButtonProps {\n  onLogin: (userCredential: firebase.auth.UserCredential) => void;\n  onError: (error: any) => void;\n}\n\nconst GoogleLoginButton = ({\n  onLogin,\n  onError,\n  ...buttonProps\n}: LoginButtonProps) => (\n  <Button\n    {...buttonProps}\n    variant=\"contained\"\n    style={{ width: \"100%\", fontWeight: 600, background: \"white\" }}\n    onClick={() => {\n      signInWithGoogle()\n        .then((u) => {\n          onLogin(u);\n        })\n        .catch((e) => {\n          onError(e);\n        });\n    }}\n  >\n    <Box display=\"flex\" alignItems=\"center\" py={0.5}>\n      <Box mr={1} display=\"flex\" alignItems=\"center\">\n        <img src={GoogleIcon} alt=\"Google\" style={{ height: \"1em\" }} />\n      </Box>\n      רוצה להתחבר עם Google\n    </Box>\n  </Button>\n);\n\nconst FacebookLoginButton = ({\n  onLogin,\n  onError,\n  ...buttonProps\n}: LoginButtonProps) => (\n  <Button\n    {...buttonProps}\n    variant=\"contained\"\n    style={{\n      width: \"100%\",\n      fontWeight: 600,\n      background: \"#4267b2\",\n      color: \"white\",\n    }}\n    onClick={() => signInWithFacebook().then(onLogin).catch(onError)}\n  >\n    <Box display=\"flex\" alignItems=\"center\" py={0.5}>\n      <Box mr={1} display=\"flex\" alignItems=\"center\">\n        <img src={FacebookIcon} alt=\"Facebook\" style={{ height: \"1.5em\" }} />\n      </Box>\n      האמת, בא לי Facebook\n    </Box>\n  </Button>\n);\n\ninterface LoginDialogProps {\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  setLoggedInUser: (loggedInUser: User) => void;\n}\n\nconst ErrorSnackbarContent = () => (\n  <Fragment>\n    נתקלנו בשגיאה בנסיון ההתחברות.\n    <br />\n    נסו להתחבר בדרך אחרת, חכו קצת, או פנו אלינו לתמיכה ✨\n  </Fragment>\n);\n\nexport default function LoginDialog({\n  open,\n  setOpen,\n  setLoggedInUser,\n}: LoginDialogProps) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleError = (error: any) => {\n    console.error(error);\n    enqueueSnackbar(<ErrorSnackbarContent />, {\n      variant: \"error\",\n    });\n  };\n\n  const onLogin = (user: firebase.User) => {\n    const { displayName, email } = user;\n    const loggedInUser = new User(displayName, email);\n\n    enqueueSnackbar(\"ברוכים הבאות!\", {\n      variant: \"success\",\n    });\n    setLoggedInUser(loggedInUser);\n    setOpen(false);\n  };\n\n  const handleUserCredential = (\n    userCredential: firebase.auth.UserCredential\n  ) => {\n    if (userCredential.user === null) {\n      enqueueSnackbar(<ErrorSnackbarContent />, {\n        variant: \"error\",\n      });\n      return;\n    }\n    onLogin(userCredential.user);\n  };\n\n  useEffect(() => {\n    // We can't use `onLogin` as it's re-created every render\n    checkIfAlreadyLoggedIn().then((user: firebase.User) => {\n      const { displayName, email } = user;\n      const loggedInUser = new User(displayName, email);\n\n      setLoggedInUser(loggedInUser);\n      setOpen(false);\n    });\n  }, [setLoggedInUser, setOpen]);\n\n  return (\n    <Fragment>\n      <Dialog\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogContent style={{ padding: \"0\", backgroundColor: \"#dcdcdc\" }}>\n          <Box p={3}>\n            <Box display=\"flex\" justifyContent=\"stretch\">\n              <GoogleLoginButton\n                onLogin={handleUserCredential}\n                onError={handleError}\n              />\n            </Box>\n            <Box mt={2} display=\"flex\" justifyContent=\"stretch\">\n              <FacebookLoginButton\n                onLogin={handleUserCredential}\n                onError={handleError}\n              />\n            </Box>\n          </Box>\n        </DialogContent>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import User from \"./User\";\nimport { ReviewContent } from \"./Review\";\nimport Business, { ServerBusiness } from \"./Business\";\n\nexport enum BusinessProposalType {\n  useExisting = \"useExisting\",\n  alterExisting = \"alterExisting\",\n  createNew = \"createNew\",\n}\n\nexport type BusinessProposal =\n  | {\n      type: BusinessProposalType.createNew;\n      business: Business;\n    }\n  | {\n      type: BusinessProposalType.useExisting;\n      existingBusiness: ServerBusiness;\n    }\n  | {\n      type: BusinessProposalType.alterExisting;\n      existingBusiness: ServerBusiness;\n      business: Business;\n    };\n\nexport type Proposal = {\n  author: User | null;\n  isAnonymous: boolean;\n  business: BusinessProposal;\n  review: ReviewContent;\n};\n\nexport type StoredProposal = Proposal & { id: number; createdAt?: any };\n","import React, { useState, Fragment } from \"react\";\nimport {\n  Box,\n  TextField,\n  InputAdornment,\n  makeStyles,\n  Button,\n  useMediaQuery,\n  useTheme,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport { AccountCircleTwoTone } from \"@material-ui/icons\";\nimport server from \"../../server\";\nimport { ContainedPrimaryButton } from \"../../components/StyledButtons\";\nimport { isBlankOrEmpty } from \"../../utils/String\";\nimport { ServerBusiness } from \"../../types/Business\";\nimport BusinessesContainer from \"../../components/BusinessesContainer\";\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    flexGrow: 1,\n    \"& .MuiFilledInput-root\": {\n      borderTopRightRadius: 0,\n    },\n  },\n  button: {\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n  resultsContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: 0,\n    overflowX: \"scroll\",\n    paddingRight: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    \"& .MuiCard-root\": {\n      minWidth: \"40%\",\n      marginLeft: theme.spacing(1),\n    },\n    \"&::after\": {\n      content: \"''\",\n      minWidth: theme.spacing(1),\n      height: \"1px\",\n    },\n  },\n  suggestionsContainerExtendedWidth: {\n    width: theme.breakpoints.values.sm + 60,\n    position: \"relative\",\n    left:\n      -theme.spacing(3) + // padding-start of the containing card\n      (-24 * 2 - // horizontal padding of the main container\n        60) / // this.width - containingCard.width\n        2,\n  },\n}));\n\nexport enum Step1ResultType {\n  useExisting,\n  createNew,\n}\n\ntype Step1Result =\n  | {\n      type: Step1ResultType.useExisting;\n      business: ServerBusiness;\n    }\n  | {\n      type: Step1ResultType.createNew;\n      businessName: string;\n    };\n\ninterface Step1Props {\n  onResult: (result: Step1Result) => void;\n}\n\nconst Step1 = ({ onResult }: Step1Props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const [businessName, setBusinessName] = useState(\"\");\n  const [suggestions, setSuggestions] = useState<ServerBusiness[] | null>(null);\n\n  const resultsShouldOverflowContainer =\n    useMediaQuery(theme.breakpoints.up(\"sm\")) &&\n    suggestions &&\n    suggestions.length > 2;\n\n  const fetchSuggestions = () => {\n    const searchQuery = {\n      freeText: businessName,\n      attributes: {},\n    };\n\n    server\n      .fetchBusinesses(searchQuery)\n      .then((suggestions) => {\n        if (suggestions.length === 0)\n          onResult({\n            type: Step1ResultType.createNew,\n            businessName,\n          });\n        else setSuggestions(suggestions);\n      })\n      .catch(console.error);\n  };\n\n  return (\n    <Box>\n      <Box mb={1}>\n        <Typography variant=\"body1\">\n          מה השם של העסק או נותן.ת השירות?\n        </Typography>\n      </Box>\n      <Box display=\"flex\" mb={2}>\n        <TextField\n          fullWidth\n          label=\"שם\"\n          value={businessName}\n          className={classes.textField}\n          onChange={(event) => setBusinessName(event.target.value)}\n          color=\"secondary\"\n          variant=\"filled\"\n          placeholder=\"ישראל ישראלית\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <AccountCircleTwoTone />\n              </InputAdornment>\n            ),\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          className={classes.button}\n          disableElevation\n          onClick={fetchSuggestions}\n          disabled={isBlankOrEmpty(businessName)}\n        >\n          הבא\n        </Button>\n      </Box>\n\n      {suggestions && (\n        <Fragment>\n          <Box mt={3}>\n            <Typography variant=\"body1\">\n              {suggestions.length > 1\n                ? \"יכול להיות שמה שחיפשת זה את אחד מהעסקים האלה?\"\n                : \"יכול להיות שזה אותו העסק?\"}\n            </Typography>\n          </Box>\n          <Paper\n            className={\n              resultsShouldOverflowContainer\n                ? classes.suggestionsContainerExtendedWidth\n                : \"\"\n            }\n            elevation={resultsShouldOverflowContainer ? 1 : 0}\n          >\n            <BusinessesContainer\n              businesses={suggestions}\n              buttons={(business) => (\n                <ContainedPrimaryButton\n                  size=\"small\"\n                  onClick={() =>\n                    onResult({\n                      type: Step1ResultType.useExisting,\n                      business,\n                    })\n                  }\n                >\n                  כן, זה אותו המקום!\n                </ContainedPrimaryButton>\n              )}\n              containerProps={{ className: classes.resultsContainer }}\n              disableElevation\n            />\n          </Paper>\n          <Box mt={3} mb={2}>\n            <ContainedPrimaryButton\n              onClick={() =>\n                onResult({\n                  type: Step1ResultType.createNew,\n                  businessName,\n                })\n              }\n              fullWidth\n              variant=\"contained\"\n            >\n              האמת? לא. בואו נמשיך\n            </ContainedPrimaryButton>\n          </Box>\n        </Fragment>\n      )}\n    </Box>\n  );\n};\n\nexport default Step1;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  Container,\n  Box,\n  makeStyles,\n  Paper,\n  Grid,\n  Typography,\n  Button,\n  Snackbar,\n} from \"@material-ui/core\";\nimport CircuitBoardPattern from \"../img/CircuitBoard.svg\";\nimport server from \"../server\";\nimport { BusinessProposalType, StoredProposal } from \"../types/Proposal\";\nimport BusinessView from \"../components/BusinessView\";\nimport { Alert } from \"@material-ui/lab\";\nimport { formatDateToDisplay } from \"../utils/Date\";\n\nconst GRADIENT =\n  \"rgba(255,255,255,1) 0%, rgba(245,172,202,.3) 50%, rgba(107,175,225,.3) 100%\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    backgroundImage: `url(${CircuitBoardPattern})`,\n  },\n  content: {\n    position: \"relative\",\n    background: \"white\",\n    minHeight: \"100vh\",\n    [theme.breakpoints.up(\"md\")]: {\n      \"&::before, &::after\": {\n        content: \"''\",\n        position: \"absolute\",\n        height: \"100%\",\n        width: `calc(50vw - ${theme.breakpoints.values.md / 2}px)`,\n        top: 0,\n      },\n      \"&::before\": {\n        background: `linear-gradient(90deg, ${GRADIENT})`,\n        right: \"100%\",\n      },\n      \"&::after\": {\n        background: `linear-gradient(270deg, ${GRADIENT})`,\n        left: \"100%\",\n      },\n    },\n  },\n  appBarMargin: theme.mixins.toolbar,\n  proposal: {\n    marginTop: theme.spacing(1),\n    padding: theme.spacing(2),\n  },\n}));\n\nconst AdminPanel = () => {\n  const classes = useStyles();\n\n  const [isErrorSnackBarOpened, setIsErrorSnackBarOpened] = useState(false);\n  const [isSuccessSnackBarOpened, setIsSuccessSnackBarOpened] = useState(false);\n\n  const [openProposals, setOpenProposals] = useState<StoredProposal[] | null>();\n\n  const refreshProposals = useCallback(() => {\n    server.getAllOpenProposals().then(setOpenProposals);\n  }, []);\n\n  useEffect(refreshProposals, []);\n\n  const accept = (proposalId: number) => {\n    server\n      .acceptProposal(proposalId)\n      .then(() => {\n        setIsSuccessSnackBarOpened(true);\n      })\n      .catch(() => {\n        setIsErrorSnackBarOpened(true);\n      })\n      .finally(() => refreshProposals());\n  };\n  const decline = (proposalId: number) => {\n    server\n      .declineProposal(proposalId)\n      .then(() => {\n        setIsSuccessSnackBarOpened(true);\n      })\n      .catch(() => {\n        setIsErrorSnackBarOpened(true);\n      })\n      .finally(() => refreshProposals());\n  };\n\n  return (\n    <Container className={classes.container}>\n      <Container maxWidth=\"md\" className={classes.content}>\n        <div className={classes.appBarMargin}></div>\n        <Box pt={2}>\n          {openProposals &&\n            openProposals.map((proposal, index) => (\n              <Paper key={index} className={classes.proposal}>\n                <Typography variant=\"body1\">\n                  <b>\n                    {proposal.isAnonymous\n                      ? \"משתמש.ת אנונימי.ת\"\n                      : `${proposal.author!.name} (${proposal.author!.email})`}\n                  </b>{\" \"}\n                  הציע.ה\n                  {proposal.createdAt\n                    ? ` ב-${formatDateToDisplay(proposal.createdAt)}`\n                    : \"\"}\n                  :\n                </Typography>\n                {proposal.business.type ===\n                BusinessProposalType.alterExisting ? (\n                  <Grid container>\n                    <Grid item xs={12} sm={6}>\n                      <Typography variant=\"body1\">\n                        לערוך את פרטי העסק הזה:\n                      </Typography>\n                      <BusinessView\n                        detailed\n                        business={proposal.business.existingBusiness}\n                        rating={false}\n                      />\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                      <Typography variant=\"body1\">לפרטים הבאים:</Typography>\n                      <BusinessView\n                        detailed\n                        business={proposal.business.business}\n                        rating={false}\n                      />\n                    </Grid>\n                  </Grid>\n                ) : proposal.business.type ===\n                  BusinessProposalType.createNew ? (\n                  <Box>\n                    <Typography variant=\"body1\">להוסיף את העסק:</Typography>\n                    <BusinessView\n                      detailed\n                      business={proposal.business.business}\n                      rating={false}\n                    />\n                  </Box>\n                ) : null}\n                <Box mt={1} display=\"flex\" justifyContent=\"space-between\">\n                  <Button\n                    variant=\"outlined\"\n                    onClick={() => decline(proposal.id)}\n                  >\n                    סירוב\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => accept(proposal.id)}\n                  >\n                    אישור\n                  </Button>\n                </Box>\n              </Paper>\n            ))}\n        </Box>\n      </Container>\n      <Snackbar\n        open={isSuccessSnackBarOpened}\n        autoHideDuration={6000}\n        onClose={() => setIsSuccessSnackBarOpened(false)}\n      >\n        <Alert onClose={() => setIsSuccessSnackBarOpened(false)}>\n          הפעולה בוצעה בהצלחה\n        </Alert>\n      </Snackbar>\n      <Snackbar\n        open={isErrorSnackBarOpened}\n        autoHideDuration={6000}\n        onClose={() => setIsErrorSnackBarOpened(false)}\n      >\n        <Alert onClose={() => setIsSuccessSnackBarOpened(false)}>\n          קרתה שגיאה, נסו שוב מאוחר יותר\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default AdminPanel;\n","import React from \"react\";\nimport { Dialog, IconButton } from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport AdminPanel from \"./AdminPanel\";\nimport AppBar from \"../components/AppBar\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { TransitionProps } from \"@material-ui/core/transitions\";\n\nconst Transition = React.forwardRef(function Transition(\n  props: TransitionProps & { children?: React.ReactElement },\n  ref: React.Ref<unknown>\n) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\ninterface AdminDialogPanelProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nconst AdminDialogPanel = ({ open, onClose }: AdminDialogPanelProps) => (\n  <Dialog\n    open={open}\n    onClose={onClose}\n    fullScreen\n    disableEscapeKeyDown={true}\n    TransitionComponent={Transition}\n  >\n    <AppBar\n      position=\"fixed\"\n      title=\"מעברים – חיפוש אנשי.ות מקצוע · פאנל ניהול\"\n      buttons={\n        <IconButton\n          edge=\"start\"\n          color=\"inherit\"\n          onClick={onClose}\n          aria-label=\"close\"\n        >\n          <Close />\n        </IconButton>\n      }\n    />\n    <AdminPanel />\n  </Dialog>\n);\n\nexport default AdminDialogPanel;\n","import React from \"react\";\nimport {\n  Box,\n  Typography,\n  TextField,\n  Button,\n  makeStyles,\n} from \"@material-ui/core\";\nimport Rating from \"../../components/Rating\";\nimport { ContainedPrimaryButton } from \"../../components/StyledButtons\";\n\nconst useStyles = makeStyles({\n  multilineTextFieldNoLabel: {\n    \"& .MuiFilledInput-multiline\": {\n      paddingTop: \"10px\",\n    },\n  },\n});\n\ninterface Step3Props {\n  rating: number | null;\n  setRating: (rating: number | null) => void;\n  moreDetails: string;\n  setMoreDetails: (moreDetails: string) => void;\n  handleBack: () => void;\n  handleNext: () => void;\n}\n\nconst Step3 = ({\n  rating,\n  setRating,\n  moreDetails,\n  setMoreDetails,\n  handleBack,\n  handleNext,\n}: Step3Props) => {\n  const classes = useStyles();\n\n  return (\n    <Box>\n      <Typography variant=\"body1\">\n        עוד רגע מסיימים!\n        <br />\n        איך היית מדרג.ת את החוויה הכללית אצל נותן.ת השירות?\n      </Typography>\n      <Box display=\"flex\" justifyContent=\"center\" mt={1} mb={2}>\n        <Rating\n          value={rating}\n          name=\"rating\"\n          onChange={(_, value) => setRating(value)}\n        />\n      </Box>\n\n      <Typography variant=\"body1\">\n        ובנימה אישית יותר, בא לך להוסיף כמה מילים?\n      </Typography>\n      <Box mt={1}>\n        <TextField\n          className={classes.multilineTextFieldNoLabel}\n          fullWidth\n          multiline\n          rows={4}\n          variant=\"filled\"\n          value={moreDetails}\n          placeholder=\"בוודאי!\"\n          onChange={(e) => setMoreDetails(e.target.value)}\n        />\n      </Box>\n\n      <Box display=\"flex\" justifyContent=\"space-between\" mt={3}>\n        <Button variant=\"outlined\" onClick={handleBack}>\n          חזרה להוספת מידע\n        </Button>\n\n        <ContainedPrimaryButton\n          variant=\"contained\"\n          onClick={handleNext}\n          disabled={rating === null}\n        >\n          הבא\n        </ContainedPrimaryButton>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Step3;\n","import User from \"../types/User\";\nimport React, { useContext, Fragment } from \"react\";\nimport { Subtract } from \"utility-types\";\nimport LoggedInUserContext from \"../context/LoggedInUserContext\";\n\nexport interface WithAuthenticatedProps {\n  loggedInUser: User;\n}\n\nexport const requireAuthenticated = <Props extends object>(\n  Component: React.ComponentType<Props>\n): React.FC<Props> => (props: Props) => {\n  const loggedInUser = useContext(LoggedInUserContext);\n  return loggedInUser === null ? (\n    <Fragment />\n  ) : (\n    <Component {...(props as Props)} />\n  );\n};\n\nexport const withAuthenticated = <Props extends WithAuthenticatedProps>(\n  Component: React.ComponentType<Props>\n): React.FC<Subtract<Props, WithAuthenticatedProps>> => (\n  props: Subtract<Props, WithAuthenticatedProps>\n) => {\n  const loggedInUser = useContext(LoggedInUserContext);\n  return loggedInUser === null ? (\n    <Fragment />\n  ) : (\n    <Component loggedInUser={loggedInUser} {...(props as Props)} />\n  );\n};","import React, { Fragment, useState } from \"react\";\nimport {\n  Box,\n  Typography,\n  Button,\n  FormControlLabel,\n  Checkbox,\n} from \"@material-ui/core\";\nimport { ContainedPrimaryButton } from \"../../components/StyledButtons\";\nimport BusinessView from \"../../components/BusinessView\";\nimport {\n  Proposal,\n  BusinessProposal,\n  BusinessProposalType,\n} from \"../../types/Proposal\";\nimport User from \"../../types/User\";\nimport { withAuthenticated } from \"../../hocs/requiredAuthenticated\";\n\ninterface Step4Props {\n  businessResult: BusinessProposal;\n  rating: number;\n  moreDetails: string;\n  handleBack: () => void;\n  handleNext: () => void;\n  onResult: (proposal: Proposal) => void;\n  loggedInUser: User;\n}\n\nconst Step4 = ({\n  businessResult,\n  rating,\n  moreDetails,\n  handleBack,\n  onResult,\n  loggedInUser,\n}: Step4Props) => {\n  const [isAnonymous, setIsAnonymous] = useState(false);\n\n  const ratingText = (\n    <Fragment>\n      והדירוג שנתת הוא <b>{rating} כוכבים</b>\n      {moreDetails ? (\n        <Fragment>\n          ,\n          <br />\n          בתוספת ההערה:\n          <br /> {moreDetails}\n        </Fragment>\n      ) : (\n        \".\"\n      )}\n    </Fragment>\n  );\n\n  let changeDescription: JSX.Element;\n  switch (businessResult.type) {\n    case BusinessProposalType.createNew:\n      changeDescription = (\n        <Fragment>\n          <Typography>זה העסק שרצית להוסיף:</Typography>\n          <BusinessView\n            business={businessResult.business}\n            rating={false}\n            detailed\n          />\n        </Fragment>\n      );\n      break;\n    case BusinessProposalType.useExisting:\n      changeDescription = (\n        <Fragment>\n          <Typography>זה העסק שרצית לדרג:</Typography>\n          <BusinessView\n            business={businessResult.existingBusiness}\n            rating={false}\n            detailed\n          />\n        </Fragment>\n      );\n      break;\n    case BusinessProposalType.alterExisting:\n      changeDescription = (\n        <Fragment>\n          <Typography>\n            בחרת לערוך את המידע על העסק{\" \"}\n            <b>{businessResult.existingBusiness.name}</b>, לפרטים הבאים:\n          </Typography>\n          <BusinessView\n            business={businessResult.business}\n            rating={false}\n            detailed\n          />\n        </Fragment>\n      );\n      break;\n  }\n\n  const send = () => {\n    let result: Proposal = {\n      author: loggedInUser,\n      business: businessResult,\n      isAnonymous,\n      review: {\n        rating,\n        moreDetails,\n      },\n    };\n    onResult(result);\n  };\n\n  return (\n    <Fragment>\n      <Box>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={isAnonymous}\n              onChange={(e) => setIsAnonymous(e.target.checked)}\n            />\n          }\n          label=\"שליחה אנונימית\"\n        />\n      </Box>\n      <Typography>\n        לפני שנשלח את המידע, בואו נעבור פעם אחרונה על הפרטים.\n        <br />\n        אחרי השליחה אנחנו נבחן את ההצעה שלך לשיפור המידע, ונכניס את הפרטים\n        הנכונים.&nbsp;😇\n      </Typography>\n      {changeDescription}\n      <Typography>{ratingText}</Typography>\n      <Box display=\"flex\" justifyContent=\"space-between\" mt={3}>\n        <Button variant=\"outlined\" onClick={handleBack}>\n          חזרה לדירוג\n        </Button>\n\n        <ContainedPrimaryButton variant=\"contained\" onClick={send}>\n          כן, הכל פה נכון, בואו נשלח!\n        </ContainedPrimaryButton>\n      </Box>\n    </Fragment>\n  );\n};\n\nexport default withAuthenticated(Step4);\n","import React, { Fragment, useState } from \"react\";\nimport {\n  Box,\n  makeStyles,\n  TextField,\n  InputAdornment,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport SearchFilter, { searchFilters } from \"../../searchFilters\";\nimport {\n  CallTwoTone,\n  PlaceTwoTone,\n  AccountCircleTwoTone,\n} from \"@material-ui/icons\";\nimport { setMap } from \"../../utils/Map\";\nimport BusinessView from \"../../components/BusinessView\";\nimport {\n  ContainedPrimaryButton,\n  PrimaryButton,\n} from \"../../components/StyledButtons\";\nimport { BusinessInfo, ServerBusiness } from \"../../types/Business\";\nimport { isBlankOrEmpty } from \"../../utils/String\";\nimport { iterableSome } from \"../../utils/Array\";\nimport User from \"../../types/User\";\nimport {\n  WithAuthenticatedProps,\n  withAuthenticated,\n} from \"../../hocs/requiredAuthenticated\";\nimport { BusinessProposal, BusinessProposalType } from \"../../types/Proposal\";\n\nconst useStyles = makeStyles((theme) => ({\n  fieldsContainer: {\n    width: \"calc(100% + 16px)\",\n    \"& .MuiFormControl-root\": {\n      width: \"100%\",\n    },\n  },\n  dualColumnGrid: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n  nameTextField: {\n    gridRow: 1,\n    gridColumn: \"1 / -1\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridColumn: 1,\n    },\n  },\n}));\n\ninterface Step2Props extends WithAuthenticatedProps {\n  loggedInUser: User;\n  name: string | null;\n  existingBusiness: ServerBusiness | null;\n  onResult: (business: BusinessProposal) => void;\n  handleBack: () => void;\n}\n\nconst Step2 = ({\n  loggedInUser,\n  name,\n  existingBusiness,\n  onResult,\n  handleBack,\n}: Step2Props) => {\n  const classes = useStyles();\n\n  const [location, setLocation] = useState(\n    (existingBusiness?.info.locations.length ?? 0) > 0\n      ? existingBusiness!.info.locations[0]\n      : \"\"\n  );\n  const [phone, setPhone] = useState(\n    (existingBusiness?.info.phoneNumbers?.length ?? 0) > 0\n      ? existingBusiness!.info.phoneNumbers[0]\n      : \"\"\n  );\n  const [selectedFilters, setSelectedFilters] = useState<Map<string, string[]>>(\n    new Map(\n      searchFilters.map((searchFilter) => [\n        searchFilter.filterKey,\n        existingBusiness\n          ? Object.entries(existingBusiness.info).find(\n              ([filterName]) => filterName === searchFilter.filterKey\n            )?.[1] ?? []\n          : [],\n      ])\n    )\n  );\n\n  const [editMode, setEditMode] = useState(existingBusiness === null);\n  const isInvalidRecommendation =\n    ((name === null || isBlankOrEmpty(name)) &&\n      (existingBusiness === null ||\n        existingBusiness.name === null ||\n        isBlankOrEmpty(existingBusiness.name))) ||\n    iterableSome(\n      selectedFilters.entries(),\n      ([_, selectedOptions]) => selectedOptions.length === 0\n    );\n\n  const handleNextClick = () => {\n    if (isInvalidRecommendation) return;\n\n    const businessInfo = ({\n      phone,\n      location,\n\n      ...Object.fromEntries(selectedFilters.entries()),\n    } as unknown) as BusinessInfo;\n\n    onResult(\n      existingBusiness === null\n        ? {\n            type: BusinessProposalType.createNew,\n            business: {\n              name: name || \"\",\n              info: businessInfo,\n            },\n          }\n        : {\n            type: BusinessProposalType.alterExisting,\n            existingBusiness,\n            business: {\n              name: existingBusiness.name,\n              info: businessInfo,\n            },\n          }\n    );\n  };\n\n  return (\n    <Fragment>\n      {existingBusiness !== null && !editMode && (\n        <Fragment>\n          <Typography variant=\"body1\">הפרטים הבאים נכונים?</Typography>\n          <BusinessView rating={false} detailed business={existingBusiness} />\n          <Box className={classes.dualColumnGrid} mt={1}>\n            <PrimaryButton variant=\"outlined\" onClick={() => setEditMode(true)}>\n              לא, אני רוצה לערוך אותם\n            </PrimaryButton>\n            <ContainedPrimaryButton\n              variant=\"outlined\"\n              onClick={() =>\n                onResult({\n                  type: BusinessProposalType.useExisting,\n                  existingBusiness,\n                })\n              }\n            >\n              כן, הם נכונים\n            </ContainedPrimaryButton>\n          </Box>\n        </Fragment>\n      )}\n\n      {(existingBusiness === null || editMode) && (\n        <Fragment>\n          <Box mt={1} mb={1}>\n            <Typography variant=\"h6\">פרטים כלליים</Typography>\n          </Box>\n          <Box className={classes.dualColumnGrid}>\n            <TextField\n              fullWidth\n              label=\"שם\"\n              value={existingBusiness?.name ?? name ?? \"\"}\n              className={classes.nameTextField}\n              color=\"secondary\"\n              variant=\"filled\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <AccountCircleTwoTone />\n                  </InputAdornment>\n                ),\n                readOnly: true,\n              }}\n            />\n            <TextField\n              fullWidth\n              label=\"טלפון\"\n              value={phone}\n              onChange={(event) => setPhone(event.target.value)}\n              color=\"secondary\"\n              variant=\"filled\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <CallTwoTone />\n                  </InputAdornment>\n                ),\n                readOnly: !editMode,\n              }}\n            />\n            <TextField\n              fullWidth\n              label=\"כתובת\"\n              value={location}\n              onChange={(event) => setLocation(event.target.value)}\n              variant=\"filled\"\n              color=\"secondary\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <PlaceTwoTone />\n                  </InputAdornment>\n                ),\n                readOnly: !editMode,\n              }}\n            />\n          </Box>\n\n          <Box mt={2} mb={1}>\n            <Typography variant=\"h6\">תגיות למיניהן</Typography>\n          </Box>\n          <Box className={classes.dualColumnGrid}>\n            {searchFilters.map((searchFilter: SearchFilter) => (\n              <searchFilter.render\n                key={searchFilter.filterKey}\n                value={selectedFilters.get(searchFilter.filterKey) ?? []}\n                selectProps={{\n                  readOnly: !editMode,\n                }}\n                onChange={(selectedOptions) =>\n                  setSelectedFilters(\n                    setMap(\n                      selectedFilters,\n                      searchFilter.filterKey,\n                      selectedOptions\n                    )\n                  )\n                }\n              />\n            ))}\n          </Box>\n          <Box display=\"flex\" justifyContent=\"space-between\" mt={3}>\n            <Button variant=\"outlined\" onClick={handleBack}>\n              חזרה לבחירת שם\n            </Button>\n\n            <ContainedPrimaryButton\n              variant=\"contained\"\n              onClick={handleNextClick}\n              disabled={isInvalidRecommendation}\n            >\n              הבא\n            </ContainedPrimaryButton>\n          </Box>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default withAuthenticated(Step2);\n","export const setMap = <K, V>(map: Map<K, V>, key: K, value: V) => {\n  const newMap = new Map(map);\n  newMap.set(key, value);\n  return newMap;\n};\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Card,\n  CardContent,\n  Typography,\n  Stepper,\n  Step,\n  StepLabel,\n} from \"@material-ui/core\";\nimport Step1, { Step1ResultType } from \"./Step1\";\nimport Step3 from \"./Step3\";\nimport Step4 from \"./Step4\";\nimport { ServerBusiness } from \"../../types/Business\";\nimport { requireAuthenticated } from \"../../hocs/requiredAuthenticated\";\nimport { Proposal, BusinessProposal } from \"../../types/Proposal\";\nimport Step2 from \"./Step2\";\nimport server from \"../../server\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n    actionsContainer: {\n      marginBottom: theme.spacing(2),\n    },\n    resetContainer: {\n      padding: theme.spacing(3),\n    },\n  })\n);\n\nfunction getSteps() {\n  return [\"שם העסק\", \"פרטים נוספים\", \"דירוג\", \"אישור ושליחה\"];\n}\n\nconst steps = getSteps();\n\ntype ProposeScreenProps = {\n  selectedBusiness: ServerBusiness | null;\n};\n\nconst ProposeScreen = ({ selectedBusiness }: ProposeScreenProps) => {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(selectedBusiness ? 1 : 0);\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  // Step 1 result\n  const [businessName, setBusinessName] = useState<string | null>(\n    selectedBusiness ? selectedBusiness.name : null\n  );\n  const [\n    existingBusiness,\n    setExistingBusiness,\n  ] = useState<ServerBusiness | null>(selectedBusiness);\n\n  // Step 2 result\n  const [\n    businessResult,\n    setBusinessProposal,\n  ] = useState<BusinessProposal | null>(null);\n\n  // Step 3 result\n  const [rating, setRating] = useState<number | null>(null);\n  const [moreDetails, setMoreDetails] = useState<string>(\"\");\n\n  const [sent, setSent] = useState(false);\n  const [sentSuccessfully, setSentSuccessfully] = useState(false);\n\n  const send = (proposal: Proposal) => {\n    server\n      .propose(proposal)\n      .then(() => {\n        setSent(true);\n        setSentSuccessfully(true);\n      })\n      .catch(() => {\n        setSent(true);\n        setSentSuccessfully(false);\n      });\n  };\n\n  return (\n    <Fragment>\n      <Card style={{ overflow: \"visible\" }}>\n        <CardContent style={{ padding: 0 }}>\n          <Box p={3}>\n            <div className={classes.root}>\n              {activeStep < steps.length && (\n                <Box mb={2}>\n                  <Typography variant=\"h5\" color=\"textPrimary\">\n                    הוספת מידע - {steps[activeStep]}\n                  </Typography>\n                </Box>\n              )}\n              <Box>\n                {activeStep === 0 && (\n                  <Step1\n                    onResult={(result) => {\n                      switch (result.type) {\n                        case Step1ResultType.createNew:\n                          setBusinessName(result.businessName);\n                          return handleNext();\n                        case Step1ResultType.useExisting:\n                          setExistingBusiness(result.business);\n                          return handleNext();\n                      }\n                    }}\n                  />\n                )}\n                {activeStep === 1 && (\n                  <Step2\n                    name={businessName}\n                    existingBusiness={existingBusiness}\n                    handleBack={handleBack}\n                    onResult={(result) => {\n                      setBusinessProposal(result);\n                      handleNext();\n                    }}\n                  />\n                )}\n                {activeStep === 2 && (\n                  <Step3\n                    rating={rating}\n                    setRating={setRating}\n                    moreDetails={moreDetails}\n                    setMoreDetails={setMoreDetails}\n                    handleBack={handleBack}\n                    handleNext={handleNext}\n                  />\n                )}\n                {activeStep === 3 &&\n                  businessResult !== null &&\n                  rating !== null && (\n                    <Step4\n                      businessResult={businessResult}\n                      rating={rating}\n                      moreDetails={moreDetails}\n                      handleBack={handleBack}\n                      handleNext={handleNext}\n                      onResult={(proposal) => {\n                        handleNext();\n                        send(proposal);\n                      }}\n                    />\n                  )}\n                {activeStep === steps.length && (\n                  <Box mb={2}>\n                    <Typography variant=\"h5\" color=\"textPrimary\" gutterBottom>\n                      תודה שתרמת למאגר שלנו!\n                    </Typography>\n                    <Typography>\n                      צוות מעברים יבחן את ההצעה שלך ויוסיף אותה בקרוב.&nbsp;\n                      <span role=\"img\" aria-label=\"לב ירוק\">\n                        💚\n                      </span>\n                    </Typography>\n                  </Box>\n                )}\n              </Box>\n              <Stepper activeStep={activeStep} alternativeLabel>\n                {steps.map((label) => (\n                  <Step key={label}>\n                    <StepLabel>{label}</StepLabel>\n                  </Step>\n                ))}\n              </Stepper>\n            </div>\n          </Box>\n        </CardContent>\n      </Card>\n    </Fragment>\n  );\n};\n\nexport default requireAuthenticated(ProposeScreen);\n","import React, { useCallback, useState } from \"react\";\nimport {\n  CssBaseline,\n  Collapse,\n  useTheme,\n  Fade,\n  Container,\n} from \"@material-ui/core\";\nimport MainAppBar from \"./components/MainAppBar\";\nimport Hero from \"./components/Hero\";\nimport SearchContainer from \"./components/SearchContainer\";\nimport LoginDialog from \"./dialogs/LoginDialog\";\nimport User from \"./types/User\";\nimport AdminDialogPanel from \"./admin\";\nimport ProposeScreen from \"./dialogs/Propose\";\nimport LoggedInUserContext from \"./context/LoggedInUserContext\";\nimport { ServerBusiness } from \"./types/Business\";\nimport ProposeActionsContext from \"./context/ProposeActionsContext\";\n\nfunction App() {\n  const theme = useTheme();\n  const [loggedInUser, setLoggedInUser] = useState<User | null>(null);\n  const [isLoginDialogOpen, setIsLoginDialogOpen] = useState(false);\n  const [isProposeScreenOpen, setIsProposeScreenOpen] = useState(false);\n  const [isAdminDialogOpen, setIsAdminDialogOpen] = useState(false);\n\n  const [\n    proposeScreenSelectedBusiness,\n    setProposeScreenSelectedBusiness,\n  ] = useState<ServerBusiness | null>(null);\n  const openProposeScreen = useCallback(\n    (business?: ServerBusiness) => {\n      if (loggedInUser) {\n        setProposeScreenSelectedBusiness(business || null);\n        setIsProposeScreenOpen(true);\n      } else {\n        setIsLoginDialogOpen(true);\n      }\n    },\n    [loggedInUser]\n  );\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <LoggedInUserContext.Provider value={loggedInUser}>\n        <MainAppBar\n          setIsAdminDialogOpen={setIsAdminDialogOpen}\n          setIsLoginDialogOpen={setIsLoginDialogOpen}\n          setLoggedInUser={setLoggedInUser}\n          isProposeScreenOpen={isProposeScreenOpen}\n          setIsProposeScreenOpen={setIsProposeScreenOpen}\n        />\n        <ProposeActionsContext.Provider value={{ openProposeScreen }}>\n          <main>\n            <Collapse\n              in={!isProposeScreenOpen}\n              timeout={300}\n              style={{\n                transitionDelay: \"0s\",\n              }}\n            >\n              <Hero onLoginButtonClick={() => setIsLoginDialogOpen(true)} />\n            </Collapse>\n\n            {!isProposeScreenOpen && (\n              <Fade\n                in={!isProposeScreenOpen}\n                timeout={{\n                  enter: 300,\n                  exit: !isProposeScreenOpen ? 1 : 290,\n                }}\n                style={{\n                  transitionDelay: isProposeScreenOpen ? \"200ms\" : \"0s\",\n                }}\n              >\n                <Container\n                  maxWidth=\"md\"\n                  style={{\n                    position: \"relative\",\n                    marginTop: `-${theme.spacing(4)}px`,\n                  }}\n                >\n                  <SearchContainer />\n                </Container>\n              </Fade>\n            )}\n\n            {isProposeScreenOpen && (\n              <Fade\n                in={isProposeScreenOpen}\n                timeout={{\n                  enter: 300,\n                  exit: isProposeScreenOpen ? 1 : 290,\n                }}\n                style={{\n                  transitionDelay: isProposeScreenOpen ? \"200ms\" : \"0s\",\n                }}\n              >\n                <Container\n                  maxWidth=\"sm\"\n                  style={{\n                    position: \"relative\",\n                    marginTop: `${theme.spacing(3)}px`,\n                  }}\n                >\n                  <ProposeScreen\n                    selectedBusiness={proposeScreenSelectedBusiness}\n                  />\n                </Container>\n              </Fade>\n            )}\n          </main>\n        </ProposeActionsContext.Provider>\n\n        <LoginDialog\n          open={isLoginDialogOpen}\n          setOpen={setIsLoginDialogOpen}\n          setLoggedInUser={setLoggedInUser}\n        />\n        <AdminDialogPanel\n          open={isAdminDialogOpen}\n          onClose={() => setIsAdminDialogOpen(false)}\n        />\n      </LoggedInUserContext.Provider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport App from \"./App\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { heIL } from \"@material-ui/core/locale\";\nimport { create } from \"jss\";\nimport rtl from \"jss-rtl\";\nimport { StylesProvider, jssPreset } from \"@material-ui/core/styles\";\nimport { SnackbarProvider } from \"notistack\";\nimport { IconButton } from \"@material-ui/core\";\nimport { CloseTwoTone } from \"@material-ui/icons\";\n\nconst theme = createMuiTheme(\n  {\n    direction: \"rtl\",\n    palette: {\n      primary: { main: \"#342b40\" },\n      secondary: { main: \"#7b1fa2\" },\n    },\n    typography: {\n      fontFamily: [\n        \"Alef\",\n        \"-apple-system\",\n        \"BlinkMacSystemFont\",\n        '\"Segoe UI\"',\n        \"Roboto\",\n        '\"Helvetica Neue\"',\n        \"Arial\",\n        \"sans-serif\",\n        '\"Apple Color Emoji\"',\n        '\"Segoe UI Emoji\"',\n        '\"Segoe UI Symbol\"',\n      ].join(\",\"),\n      h5: {\n        fontWeight: 600,\n      },\n      button: {\n        textTransform: \"none\",\n      },\n    },\n  },\n  heIL\n);\n\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\n\ntype RTLProps = {\n  children: any;\n};\n\nconst RTL = (props: RTLProps) => {\n  return <StylesProvider jss={jss}>{props.children}</StylesProvider>;\n};\n\nconst ThemedApp = () => {\n  const notistackRef = React.createRef<SnackbarProvider>();\n  const onClickDismiss = (key: React.ReactText) => () => {\n    notistackRef.current?.closeSnackbar(key);\n  };\n\n  return (\n    <RTL>\n      <ThemeProvider theme={theme}>\n        <SnackbarProvider\n          autoHideDuration={4000}\n          hideIconVariant\n          maxSnack={2}\n          anchorOrigin={{ horizontal: \"center\", vertical: \"bottom\" }}\n          ref={notistackRef}\n          action={(key) => (\n            <IconButton onClick={onClickDismiss(key)} color=\"inherit\">\n              <CloseTwoTone />\n            </IconButton>\n          )}\n        >\n          <App />\n        </SnackbarProvider>\n      </ThemeProvider>\n    </RTL>\n  );\n};\n\nexport default ThemedApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ThemedApp from './ThemedApp';\n\nReactDOM.render(<ThemedApp />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/Logo.92c7842c.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/01.671ad792.svg\";","module.exports = __webpack_public_path__ + \"static/media/02.1bc82864.svg\";","module.exports = __webpack_public_path__ + \"static/media/03.0186f243.svg\";","module.exports = __webpack_public_path__ + \"static/media/04.02d7d336.svg\";","module.exports = __webpack_public_path__ + \"static/media/05.faaaae74.svg\";","module.exports = __webpack_public_path__ + \"static/media/06.bee4c83a.svg\";","module.exports = __webpack_public_path__ + \"static/media/07.6a18e736.svg\";","module.exports = __webpack_public_path__ + \"static/media/08.fce20cec.svg\";","module.exports = __webpack_public_path__ + \"static/media/01.8375b02f.svg\";","module.exports = __webpack_public_path__ + \"static/media/02.ac8d05b0.svg\";","module.exports = __webpack_public_path__ + \"static/media/03.811f31c5.svg\";","module.exports = __webpack_public_path__ + \"static/media/EmptyState.1df3ce22.svg\";","module.exports = __webpack_public_path__ + \"static/media/GoogleIcon.3ec228d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/FacebookIcon.2925106f.svg\";"],"sourceRoot":""}